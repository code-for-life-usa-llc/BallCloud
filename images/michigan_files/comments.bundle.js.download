!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Viafoura=e():(t.Advance=t.Advance||{},t.Advance.Viafoura=e())}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=176)}([function(t,e,n){var r=n(9),o=n(12),i=n(17),a=n(31),u=n(26),c=function(t,e,n){var s,f,l,d,p=t&c.F,v=t&c.G,h=t&c.S,y=t&c.P,m=t&c.B,g=v?r:h?r[e]||(r[e]={}):(r[e]||{}).prototype,w=v?o:o[e]||(o[e]={}),b=w.prototype||(w.prototype={});v&&(n=e);for(s in n)f=!p&&g&&void 0!==g[s],l=(f?g:n)[s],d=m&&f?u(l,r):y&&"function"==typeof l?u(Function.call,l):l,g&&a(g,s,l,t&c.U),w[s]!=l&&i(w,s,d),y&&b[s]!=l&&(b[s]=l)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(32)("wks"),o=n(23),i=n(9).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(38);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(134),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){return(0,o.default)(("adi-viafoura:"+t).replace("src/",""))}},function(t,e,n){t.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(0),o=n(12),i=n(7);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(16),o=n(56),i=n(46),a=Object.defineProperty;e.f=n(6)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(20),o=n(38);t.exports=function(t){return r(o(t))}},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(34),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(26),o=n(20),i=n(4),a=n(13),u=n(78);t.exports=function(t,e){var n=1==t,c=2==t,s=3==t,f=4==t,l=6==t,d=5==t||l,p=e||u;return function(e,u,v){for(var h,y,m=i(e),g=o(m),w=r(u,v,3),b=a(g.length),_=0,x=n?p(e,b):c?p(e,0):void 0;b>_;_++)if((d||_ in g)&&(h=g[_],y=w(h,_,m),t))if(n)x[_]=y;else if(y)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:x.push(h)}else if(f)return!1;return l?-1:s||f?f:x}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(1);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(10),o=n(22);t.exports=n(6)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.affiliates=void 0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(36),s=r(c),f=n(48),l=r(f),d=n(24),p=r(d),v=n(5),h=r(v),y=(0,h.default)(t),m=(0,s.default)(),g=function(t){function e(t){if(o(this,e),m!==t)throw new Error("Cannot instantiate directly.");var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return window.Advance||(window.Advance={}),window.Advance.Social||(window.Advance.Social={}),window.Advance.Social.context||(window.Advance.Social.context=n),n.eventNamespace="context",n.reset(),n}return a(e,t),u(e,[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.url,n=void 0===e?l.default.parse(window.location.search).url||l.default.parse(window.location.search).entry_url||function(){var t=document.head.querySelector("[property='og:url']");return t?t.content:window.location.protocol+"//"+window.location.host+window.location.pathname}():e,r=t.pageConfig,o=void 0===r?window.pageConfig||this.deconstructLF_META(window.LF_META):r,i=t.uri,a=t.LF_META;y("Resetting context with parameters: ",n,o,i,a),this.url=i||n,this.affiliate=this._getDomain(),this.tier=this._getTier(),(o||a)&&(this.pageConfig=a?this.deconstructLF_META(a):o),this.emit("reset"),y(Object.assign({},this))}},{key:"_getDomain",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;t=t.split("/")[2],t=t.split(":")[0];var e=t.split(".").reverse(),n=[e[1],e[0]].join(".");if(void 0===w[n])throw new Error("Cannot determine affiliate context from URL: "+t);return n}},{key:"_getTier",value:function(){var t=this.url.split("/")[2];return t.match(/(uat|stage)/g)?"uat":t.match(/(dev|localhost)/g)?"dev":"prod"}},{key:"deconstructLF_META",value:function(t){if(t){var e=t.articleId,n=t.articleAuthorID,r=t.readOnly;return{uniqueId:e,authorId:n,readOnly:JSON.parse(r)}}}},{key:"shortName",get:function(){return w[this.affiliate].shortName}},{key:"path",get:function(){var t=document.createElement("a");return t.href=this.url,t.pathname}},{key:"section",get:function(){var t=document.createElement("a");return t.href=this.url,t.host.split(".")[0]}},{key:"staticBase",get:function(){return"//static"+this.tierSuffix+".advance.net/static"}},{key:"tierSuffix",get:function(){return"prod"===this.tier?"":"-"+this.tier}}],[{key:"instance",get:function(){return this[m]||(this[m]=new e(m)),this[m]}}]),e}(p.default),w={"al.com":{shortName:"bama",marketingName:"AL.com"},"cleveland.com":{shortName:"cleve",marketingName:"cleveland.com"},"gulflive.com":{shortName:"gulf",marketingName:"GulfLive.com"},"lehighvalleylive.com":{shortName:"lvlive",marketingName:"lehighvalleylive.com"},"mardigras.com":{shortName:"mardi",marketingName:"mardigras.com"},"masslive.com":{shortName:"mass",marketingName:"masslive.com"},"mlive.com":{shortName:"mlive",marketingName:"MLive.com"},"nj.com":{shortName:"njo",marketingName:"NJ.com"},"nola.com":{shortName:"nola",marketingName:"NOLA.com"},"newyorkupstate.com":{shortName:"nyup",marketingName:"NewYorkUpstate.com"},"oregonlive.com":{shortName:"olive",marketingName:"OregonLive.com"},"pennlive.com":{shortName:"penn",marketingName:"PennLive.com"},"silive.com":{shortName:"silive",marketingName:"silive.com"},"syracuse.com":{shortName:"syr",marketingName:"syracuse.com"}};e.default=g.instance;e.affiliates=w}).call(e,"src/util/context.js")},function(t,e,n){var r=n(2)("unscopables"),o=Array.prototype;void 0==o[r]&&n(17)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){var r=n(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(62),o=n(39);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(r)},s=n(152),f=r(s),l=n(5),d=r(l),p=(0,d.default)(t),v=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespace,r=void 0===n?void 0:n;o(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r&&(a.eventNamespace=r),a}return a(e,t),u(e,[{key:"emit",value:function(t,n){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).call(this,t,n),window.dispatchEvent(e.createEvent("advance.social."+this.namespace.toLowerCase()+"."+t.toLowerCase(),n))}},{key:"namespace",get:function(){return this.eventNamespace||this.constructor.name}}],[{key:"createEvent",value:function(t,e){if(p(t),"function"==typeof window.CustomEvent)return new CustomEvent(t,{detail:e});var n={bubbles:!1,cancelable:!1,detail:e},r=window.document.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r}}]),e}(f.default);e.default=v}).call(e,"src/util/event-emitter.js")},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(37);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e){t.exports=!1},function(t,e,n){var r=n(23)("meta"),o=n(1),i=n(15),a=n(10).f,u=0,c=Object.isExtensible||function(){return!0},s=!n(7)(function(){return c(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},l=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},d=function(t,e){if(!i(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},p=function(t){return s&&v.NEED&&c(t)&&!i(t,r)&&f(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:d,onFreeze:p}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(9),o=n(17),i=n(15),a=n(23)("src"),u=n(80),c=(""+u).split("toString");n(12).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,u){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",e)),t[e]!==n&&(s&&(i(n,a)||o(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e,n){var r=n(12),o=n(9),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(28)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(34),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){(function(e,n){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */
!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function r(t){return"function"==typeof t}function o(t){D=t}function i(t){R=t}function a(){return void 0!==U?function(){U(c)}:u()}function u(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<B;t+=2){(0,$[t])($[t+1]),$[t]=void 0,$[t+1]=void 0}B=0}function s(t,e){var n=this,r=new this.constructor(l);void 0===r[J]&&S(r);var o=n._state;if(o){var i=arguments[o-1];R(function(){return A(o,r,i,n._result)})}else x(n,r,t,e);return r}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(l);return g(n,t),n}function l(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function v(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function h(t,e,n){R(function(t){var r=!1,o=v(n,e,function(n){r||(r=!0,e!==n?g(t,n):b(t,n))},function(e){r||(r=!0,_(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,_(t,o))},t)}function y(t,e){e._state===Y?b(t,e._result):e._state===K?_(t,e._result):x(e,void 0,function(e){return g(t,e)},function(e){return _(t,e)})}function m(t,e,n){e.constructor===t.constructor&&n===s&&e.constructor.resolve===f?y(t,e):void 0===n?b(t,e):r(n)?h(t,e,n):b(t,e)}function g(e,n){if(e===n)_(e,d());else if(t(n)){var r=void 0;try{r=n.then}catch(t){return void _(e,t)}m(e,n,r)}else b(e,n)}function w(t){t._onerror&&t._onerror(t._result),O(t)}function b(t,e){t._state===W&&(t._result=e,t._state=Y,0!==t._subscribers.length&&R(O,t))}function _(t,e){t._state===W&&(t._state=K,t._result=e,R(w,t))}function x(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+Y]=n,o[i+K]=r,0===i&&t._state&&R(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)r=e[a],o=e[a+n],r?A(n,r,o,i):o(i);t._subscribers.length=0}}function A(t,e,n,o){var i=r(n),a=void 0,u=void 0,c=!0;if(i){try{a=n(o)}catch(t){c=!1,u=t}if(e===a)return void _(e,p())}else a=o;e._state!==W||(i&&c?g(e,a):!1===c?_(e,u):t===Y?b(e,a):t===K&&_(e,a))}function j(t,e){try{e(function(e){g(t,e)},function(e){_(t,e)})}catch(e){_(t,e)}}function E(){return Z++}function S(t){t[J]=Z++,t._state=void 0,t._result=void 0,t._subscribers=[]}function k(){return new Error("Array Methods must be provided an Array")}function T(t){return new X(this,t).promise}function P(t){var e=this;return new e(N(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function L(t){var e=this,n=new e(l);return _(n,t),n}function C(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function I(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=tt}var F=void 0;F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var N=F,B=0,U=void 0,D=void 0,R=function(t,e){$[B]=t,$[B+1]=e,2===(B+=2)&&(D?D(c):Q())},q="undefined"!=typeof window?window:void 0,H=q||{},G=H.MutationObserver||H.WebKitMutationObserver,V="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),Q=void 0;Q=V?function(){return function(){return e.nextTick(c)}}():G?function(){var t=0,e=new G(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():z?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===q?function(){try{var t=Function("return this")().require("vertx");return U=t.runOnLoop||t.runOnContext,a()}catch(t){return u()}}():u();var J=Math.random().toString(36).substring(2),W=void 0,Y=1,K=2,Z=0,X=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(l),this.promise[J]||S(this.promise),N(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&b(this.promise,this._result))):_(this.promise,k())}return t.prototype._enumerate=function(t){for(var e=0;this._state===W&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===f){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0,i=t}if(o===s&&t._state!==W)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===tt){var u=new n(l);a?_(u,i):m(u,t,o),this._willSettleAt(u,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===W&&(this._remaining--,t===K?_(r,n):this._result[e]=n),0===this._remaining&&b(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;x(t,void 0,function(t){return n._settledAt(Y,e,t)},function(t){return n._settledAt(K,e,t)})},t}(),tt=function(){function t(e){this[J]=E(),this._result=this._state=void 0,this._subscribers=[],l!==e&&("function"!=typeof e&&C(),this instanceof t?j(this,e):I())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,n=e.constructor;return r(t)?e.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):e.then(t,t)},t}();return tt.prototype.then=s,tt.all=T,tt.race=P,tt.resolve=f,tt.reject=L,tt._setScheduler=o,tt._setAsap=i,tt._asap=R,tt.polyfill=M,tt.Promise=tt,tt})}).call(e,n(65),n(162))},function(t,e,n){"use strict";t.exports=n(148)()?Symbol:n(150)},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(25);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(16),o=n(58),i=n(39),a=n(45)("IE_PROTO"),u=function(){},c=function(){var t,e=n(54)("iframe"),r=i.length;for(e.style.display="none",n(55).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c.prototype[i[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[a]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var r=n(30),o=n(22),i=n(11),a=n(46),u=n(15),c=n(56),s=Object.getOwnPropertyDescriptor;e.f=n(6)?s:function(t,e){if(t=i(t),e=a(e,!0),c)try{return s(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(10).f,o=n(15),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(32)("keys"),o=n(23);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(1);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){"use strict";var r=n(136)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";function r(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[i(e,t),"[",r,"]"].join(""):[i(e,t),"[",i(r,t),"]=",i(n,t)].join("")};case"bracket":return function(e,n){return null===n?i(e,t):[i(e,t),"[]=",i(n,t)].join("")};default:return function(e,n){return null===n?i(e,t):[i(e,t),"=",i(n,t)].join("")}}}function o(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e)return void(r[t]=n);void 0===r[t]&&(r[t]={}),r[t][e[1]]=n};case"bracket":return function(t,n,r){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===r[t]?void(r[t]=[n]):void(r[t]=[].concat(r[t],n)):void(r[t]=n)};default:return function(t,e,n){if(void 0===n[t])return void(n[t]=e);n[t]=[].concat(n[t],e)}}}function i(t,e){return e.encode?e.strict?u(t):encodeURIComponent(t):t}function a(t){return Array.isArray(t)?t.sort():"object"==typeof t?a(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}var u=n(157),c=n(155);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){e=c({arrayFormat:"none"},e);var n=o(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=a(n):t[e]=n,t},Object.create(null))):r},e.stringify=function(t,e){e=c({encode:!0,strict:!0,arrayFormat:"none"},e);var n=r(e);return t?Object.keys(t).sort().map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return i(r,e);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(t){void 0!==t&&a.push(n(r,t,a.length))}),a.join("&")}return i(r,e)+"="+i(o,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(36),s=r(c),f=n(35),l=r(f),d=n(24),p=r(d),v=n(5),h=r(v),y=n(73),m=r(y),g=n(71),w=r(g),b=(0,h.default)(t),_=(0,s.default)(),x=function(t){function e(t){if(o(this,e),_!==t)throw new Error("Cannot instantiate directly.");var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.eventNamespace="handler",n.classes={},n.apps={},n._ready=!1,n._readyPromise=null,window.Advance.Social||(window.Advance.Social={}),window.Advance.Social.handler||(window.Advance.Social.handler=n),n.emit("available"),w.default.subscribeOn(n,"ready"),n}return a(e,t),u(e,[{key:"registerApp",value:function(t,e){b("`registerApp`",{appName:t,appInstance:e}),this.apps[t]=e,this.emit(t+".registered")}},{key:"removeApp",value:function(t){return!!this.apps[t]&&("function"==typeof this.apps[t].destroy&&this.apps[t].destroy(),delete this.apps[t],!0)}},{key:"refreshCommentCounters",value:function(t){this.apps.CommentCount&&this.apps.CommentCount.refresh(t)}},{key:"loadViafoura",value:function(){var t=this;return this._readyPromise||(this._readyPromise=new l.default(function(e,n){t._ready?(b("VF script already loaded; resolving Promise"),e()):(window.vfQ=window.vfQ||[],window.vfQ.push(function(){window.vf.$subscribe("trending-articles","loaded",function(){new p.default({namespace:"activediscussions"}).emit("ready")}),(0,m.default)()}),window.vfQ.push(function(){b("Injected VF script; resolving Promise"),t._ready=!0,t.emit("ready"),e()}),function(t,e){t.type="text/javascript",t.async=!0,t.src="https://cdn.viafoura.net/vf-v2.js",e.parentNode.insertBefore(t,e)}(document.createElement("script"),document.getElementsByTagName("script")[0]))})),this._readyPromise}},{key:"ready",value:function(t){var e=this,n=this.apps[t];return new l.default(function(r,o){t?n?n.ready().then(r):e.once(t+".registered",function(){e.apps[t].ready().then(r)}):e.loadViafoura().then(r)})}}],[{key:"instance",get:function(){return this[_]||(this[_]=new e(_)),this[_]}}]),e}(p.default),O=document.createEvent("Event");O.initEvent("commentHandlerReady",!0,!0),window.dispatchEvent(O),e.default=x.instance}).call(e,"src/util/handler.js")},function(t,e,n){var r=n(11),o=n(13),i=n(33);t.exports=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),f=i(a,s);if(t&&n!=n){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(37),o=n(4),i=n(20),a=n(13);t.exports=function(t,e,n,u,c){r(e);var s=o(t),f=i(s),l=a(s.length),d=c?l-1:0,p=c?-1:1;if(n<2)for(;;){if(d in f){u=f[d],d+=p;break}if(d+=p,c?d<0:l<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?d>=0:l>d;d+=p)d in f&&(u=e(u,f[d],d,s));return u}},function(t,e,n){var r=n(25),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),o))?n:i?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},function(t,e,n){"use strict";var r=n(10),o=n(22);t.exports=function(t,e,n){e in t?r.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var r=n(1),o=n(9).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(9).document;t.exports=r&&r.documentElement},function(t,e,n){t.exports=!n(6)&&!n(7)(function(){return 7!=Object.defineProperty(n(54)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(28),o=n(0),i=n(31),a=n(17),u=n(27),c=n(83),s=n(44),f=n(61),l=n(2)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,v,h,y,m){c(n,e,v);var g,w,b,_=function(t){if(!d&&t in j)return j[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},x=e+" Iterator",O="values"==h,A=!1,j=t.prototype,E=j[l]||j["@@iterator"]||h&&j[h],S=E||_(h),k=h?O?_("entries"):S:void 0,T="Array"==e?j.entries||E:E;if(T&&(b=f(T.call(new t)))!==Object.prototype&&b.next&&(s(b,x,!0),r||"function"==typeof b[l]||a(b,l,p)),O&&E&&"values"!==E.name&&(A=!0,S=function(){return E.call(this)}),r&&!m||!d&&!A&&j[l]||a(j,l,S),u[e]=S,u[x]=p,h)if(g={values:O?S:_("values"),keys:y?S:_("keys"),entries:k},m)for(w in g)w in j||i(j,w,g[w]);else o(o.P+o.F*(d||A),e,g);return g}},function(t,e,n){var r=n(10),o=n(16),i=n(21);t.exports=n(6)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),u=a.length,c=0;u>c;)r.f(t,n=a[c++],e[n]);return t}},function(t,e,n){var r=n(11),o=n(60).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return o(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?u(t):o(r(t))}},function(t,e,n){var r=n(62),o=n(39).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(15),o=n(4),i=n(45)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var r=n(15),o=n(11),i=n(50)(!1),a=n(45)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){e.f=n(2)},function(t,e){},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){h&&p&&(h=!1,p.length?v=p.concat(v):y=-1,v.length&&u())}function u(){if(!h){var t=o(a);h=!0;for(var e=v.length;e;){for(p=v,v=[];++y<e;)p&&p[y].run();y=-1,e=v.length}p=null,h=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var f,l,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,v=[],h=!1,y=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new c(t,e)),1!==v.length||h||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=function(t){return void 0!==t&&null!==t}},function(t,e,n){n(131),n(102),n(100),n(107),n(104),n(110),n(112),n(99),n(106),n(96),n(111),n(94),n(109),n(108),n(101),n(105),n(93),n(95),n(98),n(97),n(113),n(103),t.exports=n(12).Array},function(t,e,n){n(132),n(115),n(117),n(116),n(119),n(121),n(126),n(120),n(118),n(128),n(127),n(123),n(124),n(122),n(114),n(125),n(129),n(130),t.exports=n(12).Object},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function u(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function c(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function s(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&w(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(s(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=d(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}}),e}function h(t){var e=new o;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}}),e}function y(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,r){t=e(t),r=n(r);var o=this.map[t];this.map[t]=o?o+","+r:r},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,r){this.map[e(t)]=n(r)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},l.call(p.prototype),l.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var t=new y(null,{status:0,statusText:""});return t.type="error",t};var x=[301,302,303,307,308];y.redirect=function(t,e){if(-1===x.indexOf(e))throw new RangeError("Invalid status code");return new y(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=p,t.Response=y,t.fetch=function(t,e){return new Promise(function(n,r){var o=new p(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:h(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;n(new y(e,t))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&m.blob&&(i.responseType="blob"),o.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(5),u=r(a),c=n(18),s=r(c),f=function(){function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{category:"social_default_category",label:"social_default_label"},i=r.category,a=r.label;o(this,e),this.category=i,this.label=a,this.debug=(0,u.default)(t+":"+this.category);var c=function(t){n.debug("window.adiTrack not present to track:",t)};this.adiTrack=window.adiTrack?window.adiTrack:{event:c,page:c}}return i(e,[{key:"event",value:function(t){var e=t.action,n=t.value;this.adiTrack.event({action:e,value:n,category:this.category,label:this.label},{affiliateList:["all"]})}},{key:"page",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.url;this.adiTrack.page(t)}}]),e}();e.default=f}).call(e,"src/util/analytics.js")},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(36),f=r(s),l=n(35),d=r(l),p=n(153),v=r(p),h=n(24),y=r(h),m=n(48),g=r(m),w=n(156),b=r(w),_=n(18),x=r(_),O=n(5),A=r(O),j=n(72),E=r(j),S=(0,A.default)(t),k=(0,f.default)(),T=function(t){function e(t){if(o(this,e),k!==t)throw new Error("Cannot instantiate directly.");var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.eventNamespace="auth",n.user=null,n._userLoggedIn=!1,n._eventsRegistered=!1,n._pendingProfileUpdate=!1,n}return a(e,t),c(e,[{key:"ready",value:function(){var t=this;return new d.default(function(e,n){window.jQuery&&window.Advance&&window.Advance.Gigya?(S("All auth dependencies ready..."),e({success:!0,message:"Auth dependencies already loaded"})):(S("Auth dependencies not ready, waiting auth dependencies to load..."),t._loadDependencies().then(function(){e({success:!0,message:"Loaded auth dependencies"})}),setTimeout(function(){window.Advance.Gigya.ready||n({success:!1,message:"Issue loading Gigya, we gave up"}),window.jQuery||n({success:!1,message:"Issue loading jQuery, we gave up"})},6e4))})}},{key:"_loadDependencies",value:function(){var t=(0,E.default)(),e=function(t,e){var n=(0,E.default)();return e()?n.resolve():(0,b.default)(t,function(){S("Loaded auth dependency "+t),n.resolve()}),n.promise};return e(x.default.staticBase+"/common/js/libs/jquery-1.8.2.min.js",function(){return!!window.jQuery}).then(e.bind(this,x.default.staticBase+"/common/js/adv_gigya.js",function(){return!(!window.Advance||!window.Advance.Gigya)})).then(t.resolve),t.promise}},{key:"subscribeOn",value:function(t,e){"string"==typeof e?(S("Waiting on event '"+e+"' from "+t.constructor.name+" instance to register events..."),t.once(e,this.registerEvents.bind(this))):(S("Waiting on resolution from promise '"+t.name+"' to register events..."),t().then(this.registerEvents.bind(this),function(t){return S("No resolution from promise, will not register Gigya events: ",t)}))}},{key:"registerEvents",value:function(){var t=this;if(this._eventsRegistered)return void S("Already subscribed to Gigya events");this.ready().then(function(){S("Subscribing to Gigya and Viafoura events"),t._eventsRegistered=!0,window.vf.$subscribe("authentication","required",function(){S("Not logged in, attempting to login."),t.login(),setTimeout(function(){window.vf.$publish("tray","close")},100)}),window.vf.$subscribe("login","success",function(){S("Viafoura login successful"),t._userLoggedIn=!0,t.emit("login")}),window.vf.$subscribe("logout","success",function(){S("Viafoura logout successful"),t._userLoggedIn=!1,t.emit("logout")}),window.vf.$subscribe("login","failure",function(e){if(S("User login failed, heres why:",e),"login_banned"===e.error_key){var n=document.querySelector("#vf-login-button"),r=new Date,o=e.endDate-r,i="";if(n.innerHTML="Your account has been suspended.<br/>"+e.reason,o>0){i="There is "+Math.floor(o%864e5/36e5)+" hour(s) and "+Math.floor(o%36e5/6e4)+" minute(s) remaining on the suspension.<br/>",n.innerHTML="Your account has been temporarily deactivated.<br/>"+i+e.reason}n.setAttribute("disabled",!0),n.classList.add("banned")}t.emit("banned")}),window.vf.$subscribe("user","change",function(t){S("User Data Changed, here are your changes:",t)}),window.Advance.Gigya.fn.subscribe("onLogout.adi",t.logout.bind(t),"Advance.Civil.auth.logoutListener"),window.Advance.Gigya.fn.subscribe("getAccountInfo.adi",t.loginViafouraUser.bind(t),"Advance.Viafoura.auth.getAccountInfoListener"),window.Advance.Gigya.fn.subscribe("ProfileUpdate-onAfterSubmit.adi",function(){t._pendingProfileUpdate=!0},"Advance.Viafoura.auth.profileUpdateListener"),t.gigyaLoggedIn?t.loginViafouraUser({type:"registerEvents",namespace:"local"}):!t.gigyaLoggedIn&&t.checkViafouraCookie()&&(S("State mismatch: user is not logged in to Gigya, but VF cookie is present; giving Gigya 5s before we log out of VF..."),window.setTimeout(function(){t.gigyaLoggedIn?(S("User was logged in after all"),t._userLoggedIn=!0,t.emit("login")):(S("User really was logged out; logging out of Viafoura"),t.logout())},5e3)),t.emit("eventsRegistered")},function(t){S("Error in _loadDependencies"),S(t)}).catch(function(t){S("Error in registerEvents"),S(t)})}},{key:"login",value:function(){S("`login`"),this.gigyaLoggedIn?(S("User was already logged in to Gigya; doing VF auth handshake..."),this.loginViafouraUser({type:"login",namespace:"local"})):window.Advance.Gigya.auth.login({screenSet:"ADI-Test-NewLogin-RegistrationLogin"})}},{key:"editProfile",value:function(){S("`open edit profile`"),window.Advance.Gigya.auth.editProfile({screenSet:"ADI-Test-NewLogin-ProfileUpdate"})}},{key:"logout",value:function(){S("`logout`"),this.gigyaLoggedIn&&window.Advance.Gigya.auth.logout(),v.default.remove("viafoura_sid"),window.vf.session.logout()}},{key:"loginViafouraUser",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"unknown event"};S("`loginViafouraUser` callback from "+e.type+"."+e.namespace),void 0===this.checkViafouraCookie("viafoura_sid")||this._pendingProfileUpdate?(S(this._pendingProfileUpdate?"Profile update - re-fetching session from auth webservice":"No cookie found - fetching from auth webservice"),this._getToken().then(function(e){var n=u(e,2),r=(n[0],n[1]);v.default.set("viafoura_sid",r.token,{expires:new Date(1e3*r.expires)}),window.vf.session.login.cookie(r.token),t._pendingProfileUpdate=!1})):(S("Cookie already found, will not refresh from auth webservice"),this._userLoggedIn=!0,this.emit("login"))}},{key:"checkViafouraCookie",value:function(){return v.default.get("viafoura_sid")}},{key:"_getToken",value:function(){return this.gigyaLoggedIn?fetch(this._tokenServiceUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UID:window.Advance.Gigya.auth.user.UID,UIDSignature:window.Advance.Gigya.auth.user.UIDSignature,signatureTimestamp:window.Advance.Gigya.auth.user.signatureTimestamp})}).then(function(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.response=t,e}).then(function(t){return t.json()}).then(function(t){return S("`_getToken`: auth service request succeeded with JSON response",t),[null,t]}).catch(function(t){return S("`_getToken`: Request failed",t),[t,null]}):(S("`_getToken`: User is not logged in"),d.default.resolve([null,null]))}},{key:"gigyaLoggedIn",get:function(){return!!window.Advance.Gigya&&window.Advance.Gigya.auth.isLogged()}},{key:"vfLoggedIn",get:function(){return this._userLoggedIn}},{key:"_tokenServiceUrl",get:function(){return g.default.parse(window.location.search).localAuth?"http://localhost:8000/viafoura/session/?affiliate="+x.default.affiliate:"https://laas"+x.default.tierSuffix+".advance.net/viafoura/session/"}}],[{key:"instance",get:function(){return this[k]||(this[k]=new e(k)),this[k]}}]),e}(y.default);e.default=T.instance}).call(e,"src/util/auth.js")},function(t,e,n){"use strict";function r(){var t={};return t.promise=new i.default(function(e,n){t.resolve=e,t.reject=n}),t}Object.defineProperty(e,"__esModule",{value:!0});var o=n(35),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=r},function(t,e,n){"use strict";(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(5),a=r(i),u=n(70),c=r(u);n(64);var s=new c.default({category:"comments",label:window.location.href}),f=(0,a.default)(e),l=function(t){"getAccountInfo.adi"===t.type?document.body.classList.remove("js-hide-bell"):document.body.classList.add("js-hide-bell")},d=function(){var t=document.createElement("div");return t.classList.add("viafoura"),t.classList.add("notification-float"),t.innerHTML='<vf-tray></vf-tray><vf-tray-trigger floating="true"></vf-tray-trigger>',t},p=function(){f("Injecting viafoura in-browser notification markup."),document.body.appendChild(d()),window.addEventListener("onLogout.adi",l),window.addEventListener("getAccountInfo.adi",l),["vf-tray-trigger.loaded","tray.open","tray.close"].map(function(t){var e=t.split("."),n=o(e,2),r=n[0],i=n[1];window.vf.$subscribe(r,i,function(){s.event({action:i,label:window.location.href})})});var t=!!window.Advance.Gigya&&window.Advance.Gigya.auth.isLogged();l({type:t?"getAccountInfo.adi":"onLogout.adi"})};t.exports=p}).call(e,"src/apps/shim-markup/main.js")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function(t){t.map(function(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",""+o.default.staticBase+t),document.getElementsByTagName("head")[0].appendChild(e)})};e.default=i},function(t,e,n){"use strict";var r=n(4),o=n(33),i=n(13);t.exports=[].copyWithin||function(t,e){var n=r(this),a=i(n.length),u=o(t,a),c=o(e,a),s=arguments.length>2?arguments[2]:void 0,f=Math.min((void 0===s?a:o(s,a))-c,a-u),l=1;for(c<u&&u<c+f&&(l=-1,c+=f-1,u+=f-1);f-- >0;)c in n?n[u]=n[c]:delete n[u],u+=l,c+=l;return n}},function(t,e,n){"use strict";var r=n(4),o=n(33),i=n(13);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){var r=n(1),o=n(40),i=n(2)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(77);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(21),o=n(43),i=n(30);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,u=n(t),c=i.f,s=0;u.length>s;)c.call(t,a=u[s++])&&e.push(a);return e}},function(t,e,n){t.exports=n(32)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(27),o=n(2)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(16);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){"use strict";var r=n(41),o=n(22),i=n(44),a={};n(17)(a,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(2)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(6),o=n(21),i=n(43),a=n(30),u=n(4),c=n(20),s=Object.assign;t.exports=!s||n(7)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=s({},t)[n]||Object.keys(s({},e)).join("")!=r})?function(t,e){for(var n=u(t),s=arguments.length,f=1,l=i.f,d=a.f;s>f;)for(var p,v=c(arguments[f++]),h=l?o(v).concat(l(v)):o(v),y=h.length,m=0;y>m;)p=h[m++],r&&!d.call(v,p)||(n[p]=v[p]);return n}:s},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(1),o=n(16),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n(26)(Function.call,n(42).f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){"use strict";var r=n(9),o=n(10),i=n(6),a=n(2)("species");t.exports=function(t){var e=r[t];i&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(34),o=n(38);t.exports=function(t){return function(e,n){var i,a,u=String(o(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(i=u.charCodeAt(c),i<55296||i>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):i:t?u.slice(c,c+2):a-56320+(i-55296<<10)+65536)}}},function(t,e,n){var r=n(9),o=n(12),i=n(28),a=n(63),u=n(10).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},function(t,e,n){var r=n(52),o=n(2)("iterator"),i=n(27);t.exports=n(12).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(0);r(r.P,"Array",{copyWithin:n(75)}),n(19)("copyWithin")},function(t,e,n){"use strict";var r=n(0),o=n(14)(4);r(r.P+r.F*!n(3)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.P,"Array",{fill:n(76)}),n(19)("fill")},function(t,e,n){"use strict";var r=n(0),o=n(14)(2);r(r.P+r.F*!n(3)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(14)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(19)(i)},function(t,e,n){"use strict";var r=n(0),o=n(14)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(19)("find")},function(t,e,n){"use strict";var r=n(0),o=n(14)(0),i=n(3)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(26),o=n(0),i=n(4),a=n(82),u=n(81),c=n(13),s=n(53),f=n(92);o(o.S+o.F*!n(84)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,o,l,d=i(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,y=void 0!==h,m=0,g=f(d);if(y&&(h=r(h,v>2?arguments[2]:void 0,2)),void 0==g||p==Array&&u(g))for(e=c(d.length),n=new p(e);e>m;m++)s(n,m,y?h(d[m],m):d[m]);else for(l=g.call(d),n=new p;!(o=l.next()).done;m++)s(n,m,y?a(l,h,[o.value,m],!0):o.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(0),o=n(50)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(3)(i)),"Array",{indexOf:function(t){return a?i.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){var r=n(0);r(r.S,"Array",{isArray:n(40)})},function(t,e,n){"use strict";var r=n(19),o=n(85),i=n(27),a=n(11);t.exports=n(57)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(0),o=n(11),i=[].join;r(r.P+r.F*(n(20)!=Object||!n(3)(i)),"Array",{join:function(t){return i.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),o=n(11),i=n(34),a=n(13),u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(3)(u)),"Array",{lastIndexOf:function(t){if(c)return u.apply(this,arguments)||0;var e=o(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){"use strict";var r=n(0),o=n(14)(1);r(r.P+r.F*!n(3)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(53);r(r.S+r.F*n(7)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(51);r(r.P+r.F*!n(3)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(0),o=n(51);r(r.P+r.F*!n(3)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(0),o=n(55),i=n(25),a=n(33),u=n(13),c=[].slice;r(r.P+r.F*n(7)(function(){o&&c.call(o)}),"Array",{slice:function(t,e){var n=u(this.length),r=i(this);if(e=void 0===e?n:e,"Array"==r)return c.call(this,t,e);for(var o=a(t,n),s=a(e,n),f=u(s-o),l=new Array(f),d=0;d<f;d++)l[d]="String"==r?this.charAt(o+d):this[o+d];return l}})},function(t,e,n){"use strict";var r=n(0),o=n(14)(3);r(r.P+r.F*!n(3)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(0),o=n(37),i=n(4),a=n(7),u=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!n(3)(u)),"Array",{sort:function(t){return void 0===t?u.call(i(this)):u.call(i(this),o(t))}})},function(t,e,n){n(89)("Array")},function(t,e,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(86)})},function(t,e,n){var r=n(0);r(r.S,"Object",{create:n(41)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperties:n(58)})},function(t,e,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(10).f})},function(t,e,n){var r=n(1),o=n(29).onFreeze;n(8)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(11),o=n(42).f;n(8)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){n(8)("getOwnPropertyNames",function(){return n(59).f})},function(t,e,n){var r=n(4),o=n(61);n(8)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(1);n(8)("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},function(t,e,n){var r=n(1);n(8)("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(1);n(8)("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},function(t,e,n){var r=n(0);r(r.S,"Object",{is:n(87)})},function(t,e,n){var r=n(4),o=n(21);n(8)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(1),o=n(29).onFreeze;n(8)("preventExtensions",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(1),o=n(29).onFreeze;n(8)("seal",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(88).set})},function(t,e,n){"use strict";var r=n(52),o={};o[n(2)("toStringTag")]="z",o+""!="[object z]"&&n(31)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,n){"use strict";var r=n(90)(!0);n(57)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(9),o=n(15),i=n(6),a=n(0),u=n(31),c=n(29).KEY,s=n(7),f=n(32),l=n(44),d=n(23),p=n(2),v=n(63),h=n(91),y=n(79),m=n(40),g=n(16),w=n(1),b=n(4),_=n(11),x=n(46),O=n(22),A=n(41),j=n(59),E=n(42),S=n(43),k=n(10),T=n(21),P=E.f,L=k.f,C=j.f,I=r.Symbol,M=r.JSON,F=M&&M.stringify,N=p("_hidden"),B=p("toPrimitive"),U={}.propertyIsEnumerable,D=f("symbol-registry"),R=f("symbols"),q=f("op-symbols"),H=Object.prototype,G="function"==typeof I&&!!S.f,V=r.QObject,z=!V||!V.prototype||!V.prototype.findChild,$=i&&s(function(){return 7!=A(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P(H,e);r&&delete H[e],L(t,e,n),r&&t!==H&&L(H,e,r)}:L,Q=function(t){var e=R[t]=A(I.prototype);return e._k=t,e},J=G&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},W=function(t,e,n){return t===H&&W(q,e,n),g(t),e=x(e,!0),g(n),o(R,e)?(n.enumerable?(o(t,N)&&t[N][e]&&(t[N][e]=!1),n=A(n,{enumerable:O(0,!1)})):(o(t,N)||L(t,N,O(1,{})),t[N][e]=!0),$(t,e,n)):L(t,e,n)},Y=function(t,e){g(t);for(var n,r=y(e=_(e)),o=0,i=r.length;i>o;)W(t,n=r[o++],e[n]);return t},K=function(t,e){return void 0===e?A(t):Y(A(t),e)},Z=function(t){var e=U.call(this,t=x(t,!0));return!(this===H&&o(R,t)&&!o(q,t))&&(!(e||!o(this,t)||!o(R,t)||o(this,N)&&this[N][t])||e)},X=function(t,e){if(t=_(t),e=x(e,!0),t!==H||!o(R,e)||o(q,e)){var n=P(t,e);return!n||!o(R,e)||o(t,N)&&t[N][e]||(n.enumerable=!0),n}},tt=function(t){for(var e,n=C(_(t)),r=[],i=0;n.length>i;)o(R,e=n[i++])||e==N||e==c||r.push(e);return r},et=function(t){for(var e,n=t===H,r=C(n?q:_(t)),i=[],a=0;r.length>a;)!o(R,e=r[a++])||n&&!o(H,e)||i.push(R[e]);return i};G||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(q,n),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),$(this,t,O(1,n))};return i&&z&&$(H,t,{configurable:!0,set:e}),Q(t)},u(I.prototype,"toString",function(){return this._k}),E.f=X,k.f=W,n(60).f=j.f=tt,n(30).f=Z,S.f=et,i&&!n(28)&&u(H,"propertyIsEnumerable",Z,!0),v.f=function(t){return Q(p(t))}),a(a.G+a.W+a.F*!G,{Symbol:I});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;nt.length>rt;)p(nt[rt++]);for(var ot=T(p.store),it=0;ot.length>it;)h(ot[it++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return o(D,t+="")?D[t]:D[t]=I(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in D)if(D[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!G,"Object",{create:K,defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:X,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var at=s(function(){S.f(1)});a(a.S+a.F*at,"Object",{getOwnPropertySymbols:function(t){return S.f(b(t))}}),M&&a(a.S+a.F*(!G||s(function(){var t=I();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(w(e)||void 0!==t)&&!J(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!J(e))return e}),r[1]=e,F.apply(M,r)}}),I.prototype[B]||n(17)(I.prototype,B,I.prototype.valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(66),o=n(160),i=n(137),a=n(143),u=n(145);(t.exports=function(t,e){var n,o,c,s,f;return arguments.length<2||"string"!=typeof t?(s=e,e=t,t=null):s=arguments[2],r(t)?(n=u.call(t,"c"),o=u.call(t,"e"),c=u.call(t,"w")):(n=c=!0,o=!1),f={value:e,configurable:n,enumerable:o,writable:c},s?i(a(s),f):f}).gs=function(t,e,n){var c,s,f,l;return"string"!=typeof t?(f=n,n=e,e=t,t=null):f=arguments[3],r(e)?o(e)?r(n)?o(n)||(f=n,n=void 0):n=void 0:(f=e,e=n=void 0):e=void 0,r(t)?(c=u.call(t,"c"),s=u.call(t,"e")):(c=!0,s=!1),l={get:e,set:n,configurable:c,enumerable:s},f?i(a(f),l):l}},function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=""),t}e=t.exports=n(135),e.log=a,e.formatArgs=i,e.save=u,e.load=c,e.useColors=o,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,n(65))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(s||r);t.diff=o,t.prev=s,t.curr=r,s=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var a=i[u];n=o.call(t,a),i.splice(u,1),u--}return n}),e.formatArgs.call(t,i);(n.log||e.log||console.log.bind(console)).apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t),e.names=[],e.skips=[];for(var n=("string"==typeof t?t:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function a(){e.enable("")}function u(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=c,e.disable=a,e.enable=i,e.enabled=u,e.humanize=n(154),e.names=[],e.skips=[],e.formatters={};var s},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=n(138)()?Object.assign:n(139)},function(t,e,n){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(140),o=n(144),i=Math.max;t.exports=function(t,e){var n,a,u,c=i(arguments.length,2);for(t=Object(o(t)),u=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},a=1;a<c;++a)e=arguments[a],r(e).forEach(u);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(141)()?Object.keys:n(142)},function(t,e,n){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(47),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(47),o=Array.prototype.forEach,i=Object.create,a=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=i(null);return o.call(arguments,function(t){r(t)&&a(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(47);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(146)()?String.prototype.contains:n(147)},function(t,e,n){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,n){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";var r={object:!0,symbol:!0};t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return!!r[typeof Symbol.iterator]&&(!!r[typeof Symbol.toPrimitive]&&!!r[typeof Symbol.toStringTag])}},function(t,e,n){"use strict";t.exports=function(t){return!!t&&("symbol"==typeof t||!!t.constructor&&("Symbol"===t.constructor.name&&"Symbol"===t[t.constructor.toStringTag]))}},function(t,e,n){"use strict";var r,o,i,a,u=n(133),c=n(151),s=Object.create,f=Object.defineProperties,l=Object.defineProperty,d=Object.prototype,p=s(null);if("function"==typeof Symbol){r=Symbol;try{String(r()),a=!0}catch(t){}}var v=function(){var t=s(null);return function(e){for(var n,r,o=0;t[e+(o||"")];)++o;return e+=o||"",t[e]=!0,n="@@"+e,l(d,n,u.gs(null,function(t){r||(r=!0,l(this,n,u(t)),r=!1)})),n}}();i=function(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return o(t)},t.exports=o=function t(e){var n;if(this instanceof t)throw new TypeError("Symbol is not a constructor");return a?r(e):(n=s(i.prototype),e=void 0===e?"":String(e),f(n,{__description__:u("",e),__name__:u("",v(e))}))},f(o,{for:u(function(t){return p[t]?p[t]:p[t]=o(String(t))}),keyFor:u(function(t){var e;c(t);for(e in p)if(p[e]===t)return e}),hasInstance:u("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:u("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:u("",r&&r.iterator||o("iterator")),match:u("",r&&r.match||o("match")),replace:u("",r&&r.replace||o("replace")),search:u("",r&&r.search||o("search")),species:u("",r&&r.species||o("species")),split:u("",r&&r.split||o("split")),toPrimitive:u("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:u("",r&&r.toStringTag||o("toStringTag")),unscopables:u("",r&&r.unscopables||o("unscopables"))}),f(i.prototype,{constructor:u(o),toString:u("",function(){return this.__name__})}),f(o.prototype,{toString:u(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:u(function(){return c(this)})}),l(o.prototype,o.toPrimitive,u("",function(){var t=c(this);return"symbol"==typeof t?t:t.toString()})),l(o.prototype,o.toStringTag,u("c","Symbol")),l(i.prototype,o.toStringTag,u("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,u("c",o.prototype[o.toPrimitive]))},function(t,e,n){"use strict";var r=n(149);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e,n){"use strict";function r(t){console&&console.warn&&console.warn(t)}function o(){o.init.call(this)}function i(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function a(t,e,n,o){var a,u,c;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(u=t._events,void 0===u?(u=t._events=Object.create(null),t._eventsCount=0):(void 0!==u.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),u=t._events),c=u[e]),void 0===c)c=u[e]=n,++t._eventsCount;else if("function"==typeof c?c=u[e]=o?[n,c]:[c,n]:o?c.unshift(n):c.push(n),(a=i(t))>0&&c.length>a&&!c.warned){c.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=c.length,r(s)}return t}function u(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,y(this.listener,this.target,t))}function c(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function s(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?p(o):l(o,o.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function l(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function d(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function p(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}var v,h="object"==typeof Reflect?Reflect:null,y=h&&"function"==typeof h.apply?h.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};v=h&&"function"==typeof h.ownKeys?h.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!==t};t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var g=10;Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function(t){if("number"!=typeof t||t<0||m(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");g=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||m(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return i(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(e.length>0&&(i=e[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)y(u,this,e);else for(var c=u.length,s=l(u,c),n=0;n<c;++n)y(s[n],this,e);return!0},o.prototype.addListener=function(t,e){return a(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return a(this,t,e,!0)},o.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,o,i,a;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():d(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return s(this,t,!0)},o.prototype.rawListeners=function(t){return s(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?v(this._events):[]}},function(t,e,n){var r,o;!function(i){var a=!1;if(r=i,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o),a=!0,t.exports=i(),a=!0,!a){var u=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=u,c}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s]));return document.cookie=e+"="+o+c}e||(a={});for(var f=document.cookie?document.cookie.split("; "):[],l=/(%[0-9A-Z]{2})+/g,d=0;d<f.length;d++){var p=f[d].split("="),v=p.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var h=p[0].replace(l,decodeURIComponent);if(v=n.read?n.read(v,h):n(v,h)||v.replace(l,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(t){}if(e===h){a=v;break}e||(a[h]=v)}catch(t){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},function(t,e){function n(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=s?Math.round(t/s)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function o(t){return i(t,s,"day")||i(t,c,"hour")||i(t,u,"minute")||i(t,a,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,s=24*c,f=365.25*s;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&!1===isNaN(t))return e.long?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,u,c=r(t),s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var f in n)i.call(n,f)&&(c[f]=n[f]);if(o){u=o(n);for(var l=0;l<u.length;l++)a.call(n,u[l])&&(c[u[l]]=n[u[l]])}}return c}},function(t,e,n){var r,o;/*!
  * $script.js JS loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz 2014 | License MIT
  */
!function(i,a){void 0!==t&&t.exports?t.exports=a():(r=a,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,function(){function t(t,e){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return c;return 1}function e(e,n){t(e,function(t){return n(t),1})}function n(i,a,u){function c(t){return t.call?t():d[t]}function f(){if(!--g){d[m]=1,y&&y();for(var n in v)t(n.split("|"),c)&&!e(v[n],c)&&(v[n]=[])}}i=i[s]?i:[i];var l=a&&a.call,y=l?a:u,m=l?i.join(""):a,g=i.length;return setTimeout(function(){e(i,function t(e,n){return null===e?f():(n||/^https?:\/\//.test(e)||!o||(e=-1===e.indexOf(".js")?o+e+".js":o+e),h[e]?(m&&(p[m]=1),2==h[e]?f():setTimeout(function(){t(e,!0)},0)):(h[e]=1,m&&(p[m]=1),void r(e,f)))})},0),n}function r(t,e){var n,r=a.createElement("script");r.onload=r.onerror=r[l]=function(){r[f]&&!/^c|loade/.test(r[f])||n||(r.onload=r[l]=null,n=1,h[t]=2,e())},r.async=1,r.src=i?t+(-1===t.indexOf("?")?"?":"&")+i:t,u.insertBefore(r,u.lastChild)}var o,i,a=document,u=a.getElementsByTagName("head")[0],c=!1,s="push",f="readyState",l="onreadystatechange",d={},p={},v={},h={};return n.get=r,n.order=function(t,e,r){!function o(i){i=t.shift(),t.length?n(i,o):n(i,e,r)}()},n.path=function(t){o=t},n.urlArgs=function(t){i=t},n.ready=function(r,o,i){r=r[s]?r:[r];var a=[];return!e(r,function(t){d[t]||a[s](t)})&&t(r,function(t){return d[t]})?o():function(t){v[t]=v[t]||[],v[t][s](o),i&&i(a)}(r.join("|")),n},n.done=function(t){n([null],t)},n})},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";var r=n(161);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},function(t,e,n){"use strict";var r=n(66),o={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(o,typeof t)}},function(t,e,n){"use strict";var r=n(158),o=/^\s*class[\s{\/}]/,i=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!o.test(i.call(t))}},function(t,e,n){"use strict";var r=n(159);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r,o,i;!function(n,a){o=[e],r=a,void 0!==(i="function"==typeof r?r.apply(e,o):r)&&(t.exports=i)}(0,function(t){"use strict";function e(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t),this._queue=[],this.adiTrackLoaded=!1,this.loadTimeout=e.loadTimeout||3e3,this.loadTimeoutElapsed=e.loadTimeoutElapsed||0,this.loadTimeoutElapsedIncrement=e.loadTimeoutElapsedIncrement||10,this.checkLoaded()}return r(t,[{key:"checkLoaded",value:function(){var t=this,e=setTimeout(function(){if(t.loadTimeoutElapsed===t.loadTimeout)return t.page=i,t.event=i,clearInterval(e),console.log("ADITrack could not be loaded.");var n=document.getElementById("adiTrackTag");return n&&void 0!==n&&"true"===n.dataset.loaded?(t.adiTrackLoaded=!0,t.processQueue()):(t.loadTimeoutElapsed=t.loadTimeoutElapsed+t.loadTimeoutElapsedIncrement,t.checkLoaded())},this.loadTimeoutElapsedIncrement)}},{key:"event",value:function(t,e){return this.adiTrackLoaded?window._adiTrack.event(t,e):this._queue.push({type:"event",args:[t,e]})}},{key:"page",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return this.adiTrackLoaded?window._adiTrack.page(t):this._queue.push({type:"page",args:[t]})}},{key:"processQueue",value:function(){u(this._queue)&&Array.isArray(this._queue)&&this._queue.forEach(function(t,n){if(window._adiTrack[t.type]&&a(window._adiTrack[t.type])){var r;(r=window._adiTrack)[t.type].apply(r,e(t.args))}})}}]),t}(),i=function(){},a=function(t){return t&&"function"==typeof t},u=function(t){return t&&void 0!==t},c=null;c=u(window.adiTrack)?window.adiTrack:window.adiTrack=new o,t.default=c})},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e._setActive=e._searchToObject=e._pullData=e._urlOrPath=e._checkLegacy=e._addLegacy=e._register=e._fireEvent=e._pathToUrl=e._pathFromString=e._findAttr=e._getDataAttributes=e._extend=e._stringToBoolean=e._isSmallDevice=void 0;var r=n(5),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=(0,o.default)(t),a=function(t){return Math.floor(t.getBoundingClientRect().width)===Math.floor(window.innerWidth)},u=function(t){return"true"===t||"false"===t?JSON.parse(t):t},c=function(t,e){for(var n in e)t[n]=u(e[n]);return t},s=function(t){var e={};return[].forEach.call(t.attributes,function(t){if(/^data-/.test(t.name)){var n=t.name.substr(5).replace(/-(.)/g,function(t,e){return e.toUpperCase()});e[n]=t.value}}),e},f=function(t,e){var n=document.createDocumentFragment();n.appendChild(t.cloneNode(!0));var r=n.querySelector("["+e+"]");return r?r.getAttribute(e):null},l=function(t){var e=document.createElement("a");return e.href=t,e.pathname},d=function(t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),window.dispatchEvent(e),i(t+" fired")},p=function(t,e){return e[t].elem=document.querySelector(e[t].sel)},v=function(t){return"http"===t.substring(0,4)?t:window.location.protocol+"//"+window.location.hostname+t},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return-1===t.indexOf("index.ssf")?t.split(e).slice(0,n).join(e)+"/index.ssf/"+t.split(e).slice(n).join(e):t},y=function(t){return!!t.currentTarget&&(t.currentTarget.attributes["data-legacy"]&&t.currentTarget.attributes["data-legacy"].value.length>0)},m=function(t){return i("path:",f(t,"data-path"),"url:",f(t,"data-url")),f(t,"data-url")?f(t,"data-url"):f(t,"data-path")?f(t,"data-path"):null},g=function(){var t=document.querySelector(".off-canvas .vf-comments").dataset,e=document.head.querySelector("[property='og:url']").getAttribute("content"),n=document.head.querySelector("[property='vf:unique_id']").getAttribute("content");return{"widget:path":t.path,"widget:unique_id":t.unique_id,"og:url":e,"vf:unique_id":n}},w=function(){var t=window.location.search?'{"'+window.location.search.replace(/=/g,'":"').replace(/&/g,'","').substring(1)+'"}':"{}";return JSON.parse(t)},b=function(t){return{path:t.dataset.path,id:t.dataset.unique_id}};e._isSmallDevice=a,e._stringToBoolean=u,e._extend=c,e._getDataAttributes=s,e._findAttr=f,e._pathFromString=l,e._pathToUrl=v,e._fireEvent=d,e._register=p,e._addLegacy=h,e._checkLegacy=y,e._urlOrPath=m,e._pullData=g,e._searchToObject=w,e._setActive=b}).call(e,"src/apps/offcanvas/util.js")},function(t,e,n){"use strict";(function(t){function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(35),f=r(s),l=n(24),d=r(l),p=n(18),v=r(p),h=n(49),y=r(h),m=n(71),g=r(m),w=n(70),b=r(w),_=n(74),x=r(_),O=n(5),A=r(O);n(64),(0,x.default)(["/social/viafoura/dist/comments.css"]);var j=(0,A.default)(t),E=function(t){function e(t){var n=t.uniqueId,r=t.authorId,a=t.readOnly,u=void 0!==a&&a,c=t.autoLoad,s=void 0===c||c,f=t.commentAnchorId,l=void 0===f?"rtb-comments":f,d=t.delay,p=void 0===d?0:d;o(this,e);var v=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return v.eventNamespace="comments",v._ready=!1,y.default.registerApp("Comments",v),v.config={uniqueId:n,authorId:r,readOnly:u,autoLoad:s,commentAnchorId:l,delay:p},v.analyticsHandler=new b.default({category:"comments"}),v._registerSubscriptions(),v.loginButton=document.createElement("button"),v.loginButton.id="vf-login-button",v.loginButton.innerHTML="Sign in to join the conversation",v.loginButton.addEventListener("click",function(){return g.default.login()}),v.logoutButton=document.createElement("a"),v.logoutButton.id="vf-logout-button",v.logoutButton.setAttribute("href","#"),v.logoutButton.setAttribute("title","Sign out"),v.logoutButton.innerHTML="Sign out",v.logoutButton.addEventListener("click",function(){return g.default.logout()}),v.editProfileButton=document.createElement("a"),v.editProfileButton.id="vf-editprofile-button",v.editProfileButton.setAttribute("href","#"),v.editProfileButton.setAttribute("title","Edit User Profile"),v.editProfileButton.innerHTML="Edit your profile",v.editProfileButton.addEventListener("click",function(){return g.default.editProfile()}),v.loggedInMenu=document.createElement("div"),v.loggedInMenu.id="vf-loggedin-menu",v.loggedInMenu.innerHTML='<p class="rules">Please comment <a href="/communityrules">respectfully.</a></p><span class="label">Profile Options: </span>',v.loggedInMenu.appendChild(v.editProfileButton),v.loggedInMenu.appendChild(v.logoutButton),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}),v.config.autoLoad&&v.init(),v.emit("available"),v}return a(e,t),c(e,[{key:"init",value:function(){var t=this;this._shimMarkup(),j("init"),window.vfQ=window.vfQ||[],window.vfQ.push(function(){window.vf.$subscribe("commenting","loaded",function(){t._ready=!0,t.emit("ready"),window.vf.context.get("page").then(function(e){j("collection loaded for: ",e.url),t._updateStatusMessage(e.status)})})}),window.setTimeout(function(){y.default.ready()},this.config.delay)}},{key:"destroy",value:function(){var t=document.getElementById(this.config.commentAnchorId);t&&(t.innerHTML="",window.vf.context.reset())}},{key:"_upsertMetaTags",value:function(){var t={"vf:unique_id":this.config.uniqueId,"vf:section":v.default.section,"og:url":v.default.url},e=!0,n=!1,r=void 0;try{for(var o,i=Object.entries(t)[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value,c=u(a,2),s=c[0],f=c[1],l=document.head.querySelector("[property='"+s+"']");l?l.content!=f&&(j("Updating "+s+" meta tag content from "+l.content+" to "+f),l.setAttribute("content",f)):(j("Inserting "+s+" meta tag with content "+f),l=document.createElement("meta"),l.setAttribute("property",s),l.setAttribute("content",f),document.head.appendChild(l))}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}},{key:"_shimLogin",value:function(t,e){var n=function n(){if(document.body&&document.querySelector("#rtb-comments .viafoura")){var r=document.querySelector("#rtb-comments");return r.parentNode.insertBefore(t,r),r.insertBefore(e,r.firstChild),g.default.vfLoggedIn||(j("Not logged in, updating Button UI"),e.classList.add("visible")),g.default.vfLoggedIn&&(j("Logged in, showing user menu UI"),t.classList.add("visible")),void j("this is the menu state",t)}window.requestAnimationFrame(n)};window.requestAnimationFrame(n)}},{key:"_shimMarkup",value:function(){if(this._shimLogin(this.loggedInMenu,this.loginButton),this._upsertMetaTags(),!document.getElementById(this.config.commentAnchorId))return j("Comment anchor div ID '"+this.config.commentAnchorId+"' not found; aborting"),y.default.removeApp("Comments"),!1;j("Inserting Viafoura markup into '"+this.config.commentAnchorId+"' div");var t=document.getElementById(this.config.commentAnchorId);t.innerHTML="";var e=document.getElement||document.createElement("div");e.classList.add("viafoura"),e.innerHTML='<div class="vf-comments vf-widget" data-widget="comments" data-path="'+v.default.path+'"></div>',t.appendChild(e);var n=document.querySelectorAll(".gallery_comments > a").length>0?document.querySelectorAll(".gallery_comments > a"):document.querySelectorAll(".CommentCount > a"),r=!0,o=!1,i=void 0;try{for(var a,u=Array.from(n)[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,s='<span class="viafoura"><span class="vf-counter vf-widget" data-widget="counter" data-path="'+v.default.path+'"></span></span>'+c.text;c.innerHTML=s}}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}}},{key:"_shimStatus",value:function(){return document.getElementById("rtb-comments").insertAdjacentHTML("afterend",'<div class="vf-comment-status hidden">Comments are not available for this story.</div>'),document.querySelector(".vf-comment-status")}},{key:"_updateStatusMessage",value:function(t){var e=document.querySelector(".vf-comment-status")?document.querySelector(".vf-comment-status"):this._shimStatus();"hidden"===t?e.classList.remove("hidden"):e.classList.add("hidden")}},{key:"ready",value:function(){var t=this;return new f.default(function(e,n){t._ready?(j("Viafoura Comment script ready..."),e({success:!0,message:"Viafoura Comment script already loaded"})):(j("Viafoura Comment script not ready, waiting for 'ready' event..."),t.on("ready",function(){e({success:!0,message:"Received 'ready' event"})}),window.setTimeout(function(){window.vf||n({success:!1,message:"Viafoura took too long, we gave up"})},15e3))})}},{key:"_registerSubscriptions",value:function(){var t=this;j("Registering event subscriptions"),g.default.on("login",function(e){j("login event subscription from Comments app",e),t.loginButton.classList.remove("visible"),t.loggedInMenu.classList.add("visible")}),g.default.on("logout",function(){j("Logged out, updating UI."),t.loginButton.classList.add("visible"),t.loggedInMenu.classList.remove("visible")})}}]),e}(d.default),S=document.createEvent("Event");S.initEvent("commentAvailable",!0,!0),window.dispatchEvent(S),y.default.classes.Comments=E,e.default=E}).call(e,"src/apps/comments/main.js")},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e._newContext=void 0;var r=n(5),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=(0,o.default)(t),a=function(){i("new context ova heea")};e._newContext=a}).call(e,"src/apps/offcanvas/context.js")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={offCanvasEl:{sel:".off-canvas",elem:null,action:["keydown","_escEvent"]},offCanvasHead:{sel:".off-canvas__header",elem:null,action:null},offCanvasBody:{sel:".off-canvas__body",elem:null,action:null},offCanvasClose:{sel:".off-canvas__toggle",elem:null,action:["click","_toggle"]},commentSpan:{sel:"#echo_comment_count",elem:null,action:["click","_toggle"]},commentParent:{sel:"#rtb-comments",elem:null,action:null},commentComponent:{sel:".vf-comments.vf-widget",elem:null,action:null},vfMeta:{sel:'meta[property="vf:unique_id"]',elem:null,action:null},ogMeta:{sel:'meta[property="og:url"]',elem:null,action:null},wrapperEl:{sel:"body > .wrapper",elem:null,action:null},ocExpand:{sel:".icon-enlarge",elem:null,action:["click","_expandToggle"]},ocShrink:{sel:".icon-shrink",elem:null,action:["click","_expandToggle"]},loaderEl:{sel:"#ocLoader",elem:null,action:null},root:{sel:null,elem:null},toWire:["offCanvasEl","offCanvasHead","offCanvasBody","offCanvasClose","commentParent","wrapperEl","ocExpand","ocShrink"],svgSprite:'<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="icon-enlarge" viewBox="0 0 32 32"><title>enlarge</title><path d="M32 0v13l-5-5-6 6-3-3 6-6-5-5zM14 21l-6 6 5 5h-13v-13l5 5 6-6z"></path></symbol><symbol id="icon-shrink" viewBox="0 0 32 32"><title>shrink</title><path d="M14 18v13l-5-5-6 6-3-3 6-6-5-5zM32 3l-6 6 5 5h-13v-13l5 5 6-6z"></path></symbol></defs></svg> ',chatMarkup:'<div id="livechat-wrapper" class="viafoura"> <vf-livechat></vf-livechat></div>',commentMarkup:function(t,e){return'<div id="rtb-comments"><div class="viafoura"><div class="vf-comments vf-widget" data-widget="comments" data-path="'+t+'" data-unique_id="'+e+'"></div></div></div>'},componentMarkup:function(t){return'<div class="off-canvas off-canvas--west" aria-hidden="true" style="display: none;" data-type="'+(t?"livechat":"comments")+'"><div class="off-canvas__header"><div class="off-canvas--header-item"><button class="off-canvas__toggle off-canvas__toggle--round" aria-label="close comments"></button></div> <div class="off-canvas--header-item"><span class="off-canvas__header-count">'+(t?"Live Chat":"Comments")+'</span></div><svg class="off-canvas--header-item icon-enlarge" role="button" tabindex="0"><title>Enlarge comment window</title><desc id="enlargeCommentsButton">Button to enlarge comment window</desc><use xlink:href="#icon-enlarge"></use></svg><svg class="off-canvas--header-item icon-shrink" role="button" tabindex="0"><title>Shrink comment window</title><desc id="shrinkCommentsButton">Button to shrink comment window</desc><use xlink:href="#icon-shrink"></use></svg></div><div class="off-canvas__body" data-state=""></div></div>'}};e.default=r},function(t,e,n){"use strict";(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var o=n(5),i=r(o),a=n(167),u=r(a),c=n(169),s=r(c),f=n(164),l=(n(166),n(163)),d=r(l);n(170);var p=(0,i.default)(e),v=function(){var t={},e={},n=s.default,r=u.default,o={track:!0,pagetype:"default",event:'[href="#comments"]',livechat:!1,modal:!1},i=[function(){p("window.vf.* is now ready")},function(){window.vf.$subscribe("commenting","loaded",function(){window.vf.context.get("page").then(function(t){p("collection loaded for: ",t.url),p("relevant widget data",(0,f._pullData)()),(0,f._register)("commentComponent",r)})}),window.vf.$subscribe("comment","created",function(t){_("comment",o.pagetype,"comment_created","commentUrl:https://"+t.comment_url)}),window.vf.$subscribe("comment-reply","posted",function(t){_("posted",o.pagetype,"comment_reply","commentUrl:https://"+t.comment_url)})}],a=function(t){return window.cal&&null!==window.cal.focusedArticle?(0,f._pathFromString)(window.cal.focusedArticle.data.address.url):t},c=function(t){return window.cal&&null!==window.cal.focusedArticle?window.cal.focusedArticle.data.livefyre_meta.articleId:t},l=function(t){return t&&(0,f._urlOrPath)(t)?(0,f._urlOrPath)(t):a(window.location.pathname)},v=function(t){return t&&(0,f._findAttr)(t,"data-id")?(0,f._findAttr)(t,"data-id"):c(window.LF_META&&window.LF_META.articleId?window.LF_META.articleId:"")},h=function(t,e){return!0===t?e.focus():e.blur(),t},y=function(t,e){return h(e,r.offCanvasClose.elem),t.setAttribute("aria-hidden",""+!e),e?t.classList.add("show"):t.classList.remove("show"),e},m=function(t){return U("lock"),r.offCanvasEl.elem.classList.add("fullscreen"),r.offCanvasHead.elem.classList.add("active"),_(t,o.pagetype,"click_expand"),!0},g=function(t){return U("unlock"),r.offCanvasEl.elem.classList.remove("fullscreen"),r.offCanvasHead.elem.classList.remove("active"),_(t,o.pagetype,"click_collapse"),!1},w=function(t){return n.lock.offset=window.pageYOffset,document.body.style.top=-n.lock.offset+"px",t.classList.add("lf-no-scroll"),!0},b=function(t){t.classList.remove("lf-no-scroll"),document.body.style.top="";var e=n.lock.offset;return window.scrollTo(0,e),n.lock.offset=null,!1},_=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!1===o.track||!d.default)return p("adiTrack unavailable"),!1;var i={action:e+"_offcanvas_"+n,category:"offCanvasComments",label:"pageType:"+e+"||toState:"+t+(r?"||"+r:"")};return d.default.event(i,{affiliateList:["all"]}),p("adiTrack:",i.action+" || "+i.category+" || "+i.label),!0},x=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._toggle;return r="string"==typeof r?e[r]:r,t&&t.addEventListener(n,r,!1),t},O=function(t){return t.map(function(t){return(0,f._register)(t,r)}),t.filter(function(t){return null!==r[t].action}).map(function(t){return n.eventEls.push(x(r[t].elem,r[t].action[0],r[t].action[1]))}),!0},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].forEach.call(t,function(t){return n.eventEls.push(x(t))}),!!t.length>0},j=function(t){return p("off-canvas root element",t),t.insertAdjacentHTML("beforeend",r.componentMarkup(o.livechat))},E=function(){n.inDom=!1,n.built=!1,n.wired=!1,r.offCanvasEl.elem=null},S=function(t,e){window.vf&&window.vf.context.teardown().then(function(){(0,f._register)("commentComponent",r),(0,f._register)("vfMeta",r);var o=(0,f._pathFromString)(e);r.vfMeta.elem&&r.vfMeta.elem.setAttribute("content",t),window.vf.context.setup(),n.active.path=o,n.active.id=t,p("loading new comment thread")})},k=function(){window.LF_META&&"c8b0493437c86f13527588f0c4463812"===window.LF_META.articleId&&(o.livechat=!0),r.offCanvasEl.elem=r.offCanvasEl.elem?r.offCanvasEl.elem:j(document.querySelector(r.root.sel)),n.wired=O(r.toWire),o.modal||(n.isSmallDevice=(0,f._isSmallDevice)(r.offCanvasEl.elem)),n.isSmallDevice||o.modal||r.offCanvasHead.elem.classList.add("expandable"),o.event.split(",").map(function(t){return A(document.querySelectorAll(t))}),t.offCanvasEl=r.offCanvasEl.elem,p("off-canvas component built"),n.built=!0},T=function(t){return window.vfQ=window.vfQ||[],t.map(function(t){return window.vfQ.push(t)}),p("populated vfQ"),!!t.length},P=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.querySelector(r.offCanvasBody.sel);p("componentRoot",i);var a=n.params.ocHash&&"true"===n.params.ocHash&&o?o:window.pageConfig?window.pageConfig.uniqueId:n.next.id;i.insertAdjacentHTML("beforeend",e?r.chatMarkup:r.commentMarkup(t,a)),(0,f._register)("commentParent",r),(0,f._register)("ogMeta",r),r.vfMeta.elem||document.head.insertAdjacentHTML("beforeend",'<meta property="vf:unique_id" content="">'),(0,f._register)("vfMeta",r),r.ogMeta.elem.setAttribute("content",t),r.vfMeta.elem.setAttribute("content",a),window.vf.context.setup(),n.active.id=r.vfMeta.elem?r.vfMeta.elem.getAttribute("content"):"",n.active.path=t,n.inDom=!0,p("injected component :)")},L=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t.path!==e.path){p("page path mismatch");var i=n.params.ocHash&&"true"===n.params.ocHash&&o?o:window.pageConfig?window.pageConfig.uniqueId:n.next.id;window.vf.context.teardown().then(function(){(0,f._register)("commentComponent",r),(0,f._register)("vfMeta",r),r.commentComponent.elem.setAttribute("data-path",n.next.path),r.commentComponent.elem.setAttribute("data-unique_id",i),r.vfMeta.elem.setAttribute("content",n.next.id),window.vf.context.setup(),n.active.path=n.next.path,n.active.id=n.next.id,p("--- loading new comment thread ---")})}n.inDom=!0},C=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"boolean"==typeof n?t(r,n,o):t(e,{path:r},o)},I=function(t,e){var n=t.querySelector(".viafoura .vf-counter");t.dataset.url&&(t.dataset.url=e),t.dataset.path&&(t.dataset.path=e),n&&n.dataset.url&&(n.dataset.url=e),n&&n.dataset.path&&(n.dataset.path=e)},M=function(t,e,n,r){var o=(0,f._addLegacy)(n.path?n.path:e),i="https://api.viafoura.co/v2/"+window.location.hostname+"/pages/"+encodeURIComponent((0,f._pathFromString)(o));p("legacyAPI Call:",i),fetch(i).then(function(t){return t}).then(function(i){return p("legacy status:",i.status),200===i.status?(I(r,o),C(t,e,n,o,r.dataset.legacy)):t(e,n)})},F=function(t,e,r,o,i){var a=t&&i&&i.dataset.legacy?i.dataset.legacy:null;return t=(!n.params.ocLegacy||"false"!==n.params.ocLegacy)&&t,t?M(e,r,o,i):e(r,o,a)},N=function(){return r.wrapperEl.elem&&r.wrapperEl.elem.classList.remove("iOSInputFix"),n.visible=y(r.offCanvasEl.elem,!1),_("hide",o.pagetype,"click_hide"),U("unlock"),(0,f._fireEvent)("ocHide"),!1},B=function(t){var e=t.currentTarget;n.next.path=(0,f._pathToUrl)(l(e)),n.next.id=0===v(e).length?window.pageConfig.uniqueId:v(e);var i=(0,f._checkLegacy)(t);return p("is legacy link:",i),n.inDom?!0===o.livechat||"minutes"===o.pagetype||F(i,L,n.active,n.next,e):F(i,P,n.next.path,o.livechat,e),n.visible=y(r.offCanvasEl.elem,!0),U("lock"),(0,f._fireEvent)("ocShow"),_("show",o.pagetype,"click_show"),!0===n.isSmallDevice&&r.wrapperEl.elem&&window.setTimeout(r.wrapperEl.elem.classList.add("iOSInputFix"),400),!0},U=function(t,e){return n.isSmallDevice=(0,f._isSmallDevice)(r.offCanvasEl.elem),!0!==n.isSmallDevice&&!0!==e&&!0!==n.fullscreen||(n.lock.state="lock"===t?w(document.documentElement):b(document.documentElement)),n.lock.state},D=function(t){return(0,f._register)("loaderEl",r),r.loaderEl.elem?(0,f._getDataAttributes)(r.loaderEl.elem):t||{}},R=function(t){return(0,f._extend)(o,D(t)),n.vfQ=T(i),r.root.sel=o.modal?o.modal:"body",document.body.insertAdjacentHTML("afterbegin",r.svgSprite),o.livechat&&document.body.classList.add("live-chat"),(0,f._fireEvent)("ocInit"),n.init=!0,o.modal||k(),p("search object:",(0,f._searchToObject)()),n.params=(0,f._searchToObject)(),!0},q=function(){return n.inDom=Boolean(document.querySelector(r.commentParent.sel)),n.inDom?null:R(window.ocConfig)};return e._expandToggle=function(){n.fullscreen=!1===n.fullscreen?m("expanded"):g("collapsed"),p("toggle expand",n.fullscreen)},e._escEvent=function(t){return"Escape"===t.key&&e._toggle(t),t.key},e._toggle=function(t){t instanceof Event&&t.preventDefault(),o.modal||(n.isSmallDevice=(0,f._isSmallDevice)(r.offCanvasEl.elem)),n.visible=!0===n.visible?N():B(t||{currentTarget:void 0})},t.dom=r,t.state=n,t.settings=o,t.toggle=e._toggle,t.init=q,t.build=k,t.vfTeardown=E,t.vfSetup=S,t};t.exports=v}).call(e,"src/apps/offcanvas/main.js")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={built:!1,wired:!1,inDom:!1,init:!1,isSmallDevice:!1,lock:{state:null,offset:null},fullscreen:!1,visible:!1,active:{path:"",id:""},next:{path:"",id:""},eventEls:[],vfQ:!1,params:{}};e.default=r},function(t,e){},function(t,e,n){"use strict";(function(e){function r(t){return t&&t.__esModule?t:{default:t}}var o=n(18),i=r(o),a=n(49),u=r(a),c=n(5),s=r(c),f=n(72),l=r(f),d=n(165),p=r(d),v=n(168),h=r(v),y=n(164),m=n(163),g=r(m),w=(0,s.default)(e),b=new h.default;window.Advance.Social||(window.Advance.Social={}),window.Advance.Social.ocLoader||(window.Advance.Social.ocLoader=b);var _=function(t,e){return w("query string values used to set context"),i.default.reset({url:t.url||t.entry_url,pageConfig:{uniqueId:t.m_entry_id?t.m_entry_id:null,authorId:t.m_entry_author_username?t.m_entry_author_username:"",readOnly:!!t.read_only&&JSON.parse(t.read_only)}}),e.resolve(t)},x=function(t,e,n){var r=document.getElementById("rtb-comments");return r.style.cssText="background: #fff;",r.innerHTML='<h3 style="text-align: center; color: #666">'+e+"</h3>",t.reject(n)},O=function(t,e){w("checking for existence of thread",t);var n="https://api.viafoura.co/v2/"+window.location.hostname+"/pages/"+encodeURIComponent((0,y._pathFromString)(t.url||t.entry_url));w("legacyAPI Call:",n);var r=function(t,e,n){var r={action:"commentPage",category:"comments",label:"commentId:"+t+"||url:'"+e+"||status:"+n};g.default.event(r,{affiliateList:["all"]})};fetch(n).then(function(t){return t}).then(function(n){return w("thread status:",n.status),200===n.status?(r("null",t.url||t.entry_url,"loaded"),_({url:t.url||t.entry_url,m_entry_id:"fillerId",m_entry_author_username:t.m_entry_author_username},e)):(r("null",t.url||t.entry_url,"rejected"),x(e,"Comments are currently unavailable for this article.","comment thread currently not available"))})};(function(){var t=(0,l.default)();if(i.default.pageConfig)w("Page config was already set"),t.resolve();else{var e=JSON.parse(window.location.search?'{"'+window.location.search.replace(/=/g,'":"').replace(/&/g,'","').substring(1)+'"}':"{}");w("Page config was not set; checking URI parameters:",e),e.url||e.entry_url?e.m_entry_id?_(e,t):O(e,t):x(t,"No comments are available.","no url available")}return t.promise})().then(function(t){b.init(),new p.default(Object.assign({autoLoad:!0,delay:0},i.default.pageConfig))},function(t){w("Unable to establish context"),w(t)}).catch(function(t){w(t)}),t.exports={handler:u.default,context:i.default,offcanvas:b}}).call(e,"src/bundles/comments.js")},,,,,function(t,e,n){n(68),n(67),n(69),t.exports=n(171)}])});
//# sourceMappingURL=comments.bundle.js.map