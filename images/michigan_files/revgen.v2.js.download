!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.domainWhiteList=t.dfpSlotMap=t.oasDivToSlot=t.dfpSizes=t.dfpMap=t.biddableSizes=t.breakpoints=t.addToConfig=t.config=t.adDebug=t.affiliateData=void 0;var r=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(r);n(17);var o=(t.affiliateData={domain:function(e){var t=(window||{}).adiData||{},n=new URL(t.preview&&t.affiliate&&t.entryUrl||!t.preview&&t.affiliate&&t.entryUrl&&t.rgProduct&&"fbia"===t.rgProduct.toLowerCase()?t.entryUrl:window.location.href),r=n.hostname.split("."),i=3===r.length;return n.sub=i?r[0]:"",n.dom=i?r[1]:r[0],n.tld=i?r[2]:r[1],n.id=n.dom+"."+n.tld,n}()},"");try{o=window.sessionStorage.getItem("adsdebug")||window.document.cookie.match(new RegExp("(^| )adsdebug=([^;]+)"))}catch(e){console.log(e)}var a=t.adDebug=-1===window.location.hash.indexOf("addebug"),s="development-local"!==e.env.NODE_ENV&&a&&!o?"warn":"debug",l={adsEnabled:!0,autoload:!0,apstagEnabled:!1,debuggerLinkEnabled:!1,logLevel:s,inserter:{logLevel:s},api:{logLevel:s},units:{logLevel:s},requester:{logLevel:s},sources:{embeddedTags:{logLevel:s},proximic:{logLevel:s}}},u=t.config=l,c=(t.addToConfig=function(e){return t.config=u=(0,i.default)({},u,e),u},t.breakpoints={mobile:320,mobile_w:480,tablet:640,tablet_w:768,desktop:980,desktop_w:1024}),d=(t.biddableSizes=[[300,250],[300,600],[320,50],[728,90],[970,250],[970,90]],function(){var e=void 0;try{e=window.top.document.documentElement.clientWidth}catch(e){console.warn(e)}finally{return(e=e||window.document.documentElement.clientWidth)<=c.tablet}}),f=document.documentElement.clientWidth>=990&&"desktop"===function(){return d()?"mobile":"desktop"}();t.dfpMap={networkID:"344101295",default:{enabled:!0,abbrev:"",indexExchange:"",amznAdsEnabled:!1},"al.com":{enabled:!0,abbrev:"AL",indexExchange:"32289396185049",amznAdsEnabled:!0,useSafeFrames:!0},"cleveland.com":{enabled:!0,abbrev:"CL",indexExchange:"63075722073096",amznAdsEnabled:!0,useSafeFrames:!0},"gulflive.com":{enabled:!0,abbrev:"AL",indexExchange:"",amznAdsEnabled:!0,useSafeFrames:!0},"lehighvalleylive.com":{enabled:!0,abbrev:"LV",indexExchange:"254390745371571",amznAdsEnabled:!0,useSafeFrames:!0},"mardigras.com":{enabled:!0,abbrev:"MG",indexExchange:"214808327357300",amznAdsEnabled:!0,useSafeFrames:!0},"masslive.com":{enabled:!0,abbrev:"MA",indexExchange:"256589768712033",amznAdsEnabled:!0,useSafeFrames:!0},"mlive.com":{enabled:!0,abbrev:"MI",indexExchange:"157633722289742",amznAdsEnabled:!0,useSafeFrames:!0},"newyorkupstate.com":{enabled:!0,abbrev:"NY",indexExchange:"16896234296198",amznAdsEnabled:!0,useSafeFrames:!0},"nj.com":{enabled:!0,abbrev:"NJ",indexExchange:"280779024863820",amznAdsEnabled:!0,useSafeFrames:!0},"oregonlive.com":{enabled:!0,abbrev:"OR",indexExchange:"247793676261925",amznAdsEnabled:!0,useSafeFrames:!0},"pennlive.com":{enabled:!0,abbrev:"PN",indexExchange:"69670136644761",amznAdsEnabled:!0,useSafeFrames:!0},"silive.com":{enabled:!0,abbrev:"SI",indexExchange:"241196606537681",amznAdsEnabled:!0,useSafeFrames:!0},"syracuse.com":{enabled:!0,abbrev:"SY",indexExchange:"256589769389658",amznAdsEnabled:!0,useSafeFrames:!0}},t.dfpSizes=[[1,1],[88,31],[300,600],[170,30],[120,60],[970,250],[320,50],[728,90],[300,250],[970,90],[300,1050],"fluid"],t.oasDivToSlot={Badge1:"RightRail_Badge1",Badge2:"RightRail_Badge2",Badge3:"RightRail_Badge3",Badge4:"RightRail_Badge4",Badge5:"RightRail_Badge5",Badge6:"RightRail_Badge6",Bottom:"InContent_Center",LocalWidget:"FindLocal_Widget",FrameTile1:"Wallpaper",ImpactAd:"TopRail_Below",Leaderboard:"TopRail_Above",Marketing2:"InFeed_Left",Marketing1:"InContent_Center",Marketing3:"InFeed_Sponsor",Middle:"InContent_Center",MidVideo:"InContent_Video",Popup:"Popup",Rectangle:"RightRail_Top",RectangleBelow:"RightRail_Bottom",Rectangle2:"InFeed_Right",SecSponsor:"RightRail_Sponsor",SiteSponsor:"DropDownMenu_Sponsor",SponsorRight:"TopRail_Sponsor",Tile1:"TopRail_Above",Tile2:"InContent_Center",Tile3:"InContent_Center",Tile4:"InContent_Center",Tile5:"InContent_Center",Tile6:"InContent_Center",Top:"Window_Bottom",Tower:"TopRail_Below_Flex",x81:"InFeed_Native",x82:"InFeed_Native"},t.dfpSlotMap={mobile:{InFeed_Center_Wide_Adhesion:{priority:100,sizes:[320,51],slotTargeting:{rg_adslot:"InFeed_Center_Wide_Adhesion",rg_atf:!0,rg_iab:!0}},InModal_Bottom:{priority:100,sizes:[320,50],slotTargeting:{rg_adslot:"InModal_Bottom",rg_atf:!0,rg_iab:!0}},Window_Bottom:{priority:100,sizes:[[320,50],"fluid"],slotTargeting:{rg_adslot:"Window_Bottom",rg_atf:!0,rg_iab:!0}},InContent_Center:{priority:100,sizes:[[300,250],[1,1],"fluid"],slotTargeting:{rg_adslot:"InContent_Center",rg_atf:!1,rg_iab:!0}},InContent_Native:{priority:100,sizes:[[300,250],[1,1],"fluid"],slotTargeting:{rg_adslot:"InContent_Native",rg_atf:!1,rg_iab:!0}},InContent_Video:{priority:100,sizes:[[300,250],[1,1],"fluid"],slotTargeting:{rg_adslot:"InContent_Video",rg_atf:!1,rg_iab:!0}},InFeed_Center:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Center",rg_atf:!1,rg_iab:!0}},InFeed_Center_Wide:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Center_Wide",rg_atf:!1,rg_iab:!0}},InFeed_Native_B:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Native_B",rg_atf:!0,rg_iab:!0}},InFeed_Native:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Native",rg_atf:!0,rg_iab:!1}},InFeed_Native_C:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Native_C",rg_atf:!0,rg_iab:!1}},InterArticle_Center:{priority:100,sizes:["fluid"],slotTargeting:{rg_adslot:"InterArticle_Center",rg_atf:!1,rg_iab:!1}},Popup:{priority:100,sizes:[1,1],slotTargeting:{rg_adslot:"Popup",rg_atf:!1,rg_iab:!1}},TopRail_Above:{priority:100,sizes:[320,50],slotTargeting:{rg_adslot:"TopRail_Above",rg_atf:!0,rg_iab:!0}}},desktop:{FindLocal_Widget:{priority:100,sizes:[3,1],slotTargeting:{rg_adslot:"FindLocal_Widget",rg_atf:!1,rg_iab:!1}},Window_Bottom:{priority:100,sizes:[728,90],slotTargeting:{rg_adslot:"Window_Bottom",rg_atf:!0,rg_iab:!0}},DropDownMenu_Sponsor:{priority:100,sizes:[170,50],slotTargeting:{rg_adslot:"DropDownMenu_Sponsor",rg_atf:!1,rg_iab:!1}},InContent_Center:{priority:100,sizes:[[300,250],"fluid",[1,1]],slotTargeting:{rg_adslot:"InContent_Center",rg_atf:!1,rg_iab:!0}},InContent_Left:{priority:100,sizes:[300,250],slotTargeting:{rg_adslot:"InContent_Left",rg_atf:!1,rg_iab:!0}},InContent_Native:{priority:100,sizes:[[300,250],[1,1],"fluid"],slotTargeting:{rg_adslot:"InContent_Native",rg_atf:!1,rg_iab:!0}},InContent_Right:{priority:100,sizes:[300,250],slotTargeting:{rg_adslot:"InContent_Right",rg_atf:!1,rg_iab:!0}},InContent_Video:{priority:100,sizes:[[300,250],[1,1],"fluid"],slotTargeting:{rg_adslot:"InContent_Video",rg_atf:!1,rg_iab:!0}},InFeed_Center:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Center",rg_atf:!1,rg_iab:!0}},InFeed_Left:{priority:100,sizes:[300,250],slotTargeting:{rg_adslot:"InFeed_Left",rg_atf:!1,rg_iab:!0}},InFeed_Native:{priority:100,sizes:["fluid"],slotTargeting:{rg_adslot:"InFeed_Native",rg_atf:!1,rg_iab:!1}},InFeed_Native_B:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"InFeed_Native_B",rg_atf:!0,rg_iab:!1}},InFeed_Native_C:{priority:100,sizes:["fluid"],slotTargeting:{rg_adslot:"InFeed_Native_C",rg_atf:!1,rg_iab:!1}},InFeed_Right:{priority:100,sizes:[300,250],slotTargeting:{rg_adslot:"InFeed_Right",rg_atf:!1,rg_iab:!0}},InFeed_Sponsor:{priority:100,sizes:[632,38],slotTargeting:{rg_adslot:"InFeed_Sponsor",rg_atf:!1,rg_iab:!1}},InFeed_Center_Wide:{priority:100,sizes:f?[[728,90],[970,250],[970,90]]:[728,90],slotTargeting:{rg_adslot:"InFeed_Center_Wide",rg_atf:!1,rg_iab:!0}},InFeed_Center_Wide_Adhesion:{priority:100,sizes:f?[[728,91],[970,91]]:[728,91],slotTargeting:{rg_adslot:"InFeed_Center_Wide_Adhesion",rg_atf:!0,rg_iab:!0}},InModal_Bottom:{priority:100,sizes:[728,90],slotTargeting:{rg_adslot:"InModal_Bottom",rg_atf:!0,rg_iab:!0}},InterArticle_Center:{priority:100,sizes:["fluid"],slotTargeting:{rg_adslot:"InterArticle_Center",rg_atf:!1,rg_iab:!1}},Popup:{priority:100,sizes:[1,1],slotTargeting:{rg_adslot:"Popup",rg_atf:!1,rg_iab:!1}},RightRail_Badge1:{priority:100,sizes:[120,60],slotTargeting:{rg_adslot:"RightRail_Badge1",rg_atf:!1,rg_iab:!1}},RightRail_Badge2:{priority:100,sizes:[120,60],slotTargeting:{rg_adslot:"RightRail_Badge2",rg_atf:!1,rg_iab:!1}},RightRail_Badge3:{priority:100,sizes:[120,60],slotTargeting:{rg_adslot:"RightRail_Badge3",rg_atf:!1,rg_iab:!1}},RightRail_Badge4:{priority:100,sizes:[120,60],slotTargeting:{rg_adslot:"RightRail_Badge4",rg_atf:!1,rg_iab:!1}},RightRail_Badge5:{priority:100,sizes:[120,60],slotTargeting:{rg_adslot:"RightRail_Badge5",rg_atf:!1,rg_iab:!1}},RightRail_Badge6:{priority:100,sizes:[120,60],slotTargeting:{rg_adslot:"RightRail_Badge6",rg_atf:!1,rg_iab:!1}},RightRail_Bottom:{priority:100,sizes:[[300,250],[300,600],"fluid"],slotTargeting:{rg_adslot:"RightRail_Bottom",rg_atf:!1,rg_iab:!0}},RightRail_Middle:{priority:100,sizes:[[300,250],"fluid"],slotTargeting:{rg_adslot:"RightRail_Middle",rg_atf:!1,rg_iab:!1}},RightRail_Sponsor:{priority:100,sizes:[300,65],slotTargeting:{rg_adslot:"RightRail_Sponsor",rg_atf:!1,rg_iab:!1}},RightRail_Top:{priority:100,sizes:[[300,250],[300,600],[300,1050],"fluid"],slotTargeting:{rg_adslot:"RightRail_Top",rg_atf:!0,rg_iab:!0}},TopRail_Above:{priority:100,sizes:[728,90],slotTargeting:{rg_adslot:"TopRail_Above",rg_atf:!0,rg_iab:!0}},TopRail_Below:{priority:100,sizes:[[970,90],[970,250]],slotTargeting:{rg_adslot:"TopRail_Below",rg_atf:!0,rg_iab:!0}},TopRail_Below_Flex:{priority:100,sizes:f?[[728,90],[970,250],[970,90]]:[728,90],slotTargeting:{rg_adslot:"TopRail_Below_Flex",rg_atf:!0,rg_iab:!0}},TopRail_Sponsor:{priority:100,sizes:[88,31],slotTargeting:{rg_adslot:"TopRail_Sponsor",rg_atf:!1,rg_iab:!1}},Wallpaper:{priority:100,sizes:[2,1],slotTargeting:{rg_adslot:"Wallpaper",rg_atf:!0,rg_iab:!1}}}},t.domainWhiteList=[]}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=t.Log=function(){function e(t){var n=this;r(this,e);var i=["context","level","message","time","styled"],o=i.reduce(function(e,r){return t.hasOwnProperty(r)?n[r]=t[r]:e.push(r),e},[]);if(o.length>0)throw new Error("Missing the following properties: "+o.join(", ")+".")}return o(e,[{key:"toString",value:function(){var e=this.level.toUpperCase()+" - "+this.context+" - "+this.time+"s: "+this.message;return this.styled?"%c "+e:e}}]),e}();t.Logger=function(){function e(){r(this,e)}return o(e,null,[{key:"getLogger",value:function(e){var t={},n=["window","context"];if("object"!==(void 0===e?"undefined":i(e)))throw new Error("You must include a config with the following properties: "+n.join(", "));for(var r=0;r<n.length;r++)if(!e.hasOwnProperty(n[r]))throw new Error("Missing required property "+n[r]);if("object"!==i(e.window.console))throw new Error("Console is not an object. Why is that?");t.console=e.window.console,t.context=e.context.toString(),e.logLevel&&"string"==typeof e.logLevel?"string"==typeof e.logLevel&&(t.logLevel=e.logLevel.toLowerCase()):t.logLevel=this.levels[this.levels.length-1],t.storageKey="logging_"+t.context;var o={setItem:function(){return""},getItem:function(){return""},removeItem:function(){return""}};if(e.storage&&"object"===i(e.storage))t.storage=e.storage;else if(e.window.sessionStorage)try{e.window.sessionStorage.setItem("teststorage","1"),e.window.sessionStorage.removeItem("teststorage"),t.storage=e.window.sessionStorage}catch(e){t.storage=o}else t.storage=o;return t.storage[t.storageKey]=t.storage[t.storageKey]||"[]",t.styled=e.styled||!1,t.logAsObject=!!e.logAsObject&&e.logAsObject,t.startTime=e.startTime||window.performance?window.performance.now()/1e3:Date.now()/1e3,this.configureLevels(t,this.levels),t}},{key:"configureLevels",value:function(e,t){for(var n=this,r=0;r<t.length;r++)!function(r){var i=t[r],o=n.levelConfigs[i];e[i]=function(t){var r=window.performance?window.performance.now()/1e3:Date.now()/1e3,s=r-e.startTime;if(n.levels.indexOf(i)>=n.levels.indexOf(e.logLevel)){var l=o.method,u=JSON.parse(e.storage[e.storageKey]),c=new a({context:e.context,level:i,message:t,time:s,styled:e.styled,date:new Date});u.push(c),e.storage[e.storageKey]=JSON.stringify(u),e.logAsObject?e.console[l](c):c.styled?e.console[l](c.toString(),o.style):e.console[l](c.toString())}}}(r)}},{key:"levels",get:function(){return["debug","info","warn","error"]}},{key:"levelConfigs",get:function(){return{debug:{style:"color: brown; font-weight: bold",method:"debug"},info:{style:"color: green; font-weight: bold",method:"info"},warn:{style:"color:orange; font-weight: bold",method:"warn"},error:{style:"color: red; font-weight: bold",method:"error"}}}}]),e}()},function(e,t,n){(function(e,n){function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e,t){return null==e?void 0:e[t]}function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function s(){this.__data__=bt?bt(null):{},this.size=0}function l(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function u(e){var t=this.__data__;if(bt){var n=t[e];return n===Te?void 0:n}return Xe.call(t,e)?t[e]:void 0}function c(e){var t=this.__data__;return bt?void 0!==t[e]:Xe.call(t,e)}function d(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bt&&void 0===t?Te:t,this}function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function g(){this.__data__=[],this.size=0}function h(e){var t=this.__data__,n=R(t,e);return!(n<0)&&(n==t.length-1?t.pop():ct.call(t,n,1),--this.size,!0)}function p(e){var t=this.__data__,n=R(t,e);return n<0?void 0:t[n][1]}function v(e){return R(this.__data__,e)>-1}function b(e,t){var n=this.__data__,r=R(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function m(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function y(){this.size=0,this.__data__={hash:new a,map:new(vt||f),string:new a}}function _(e){var t=$(this,e).delete(e);return this.size-=t?1:0,t}function w(e){return $(this,e).get(e)}function T(e){return $(this,e).has(e)}function E(e,t){var n=$(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function S(e){var t=this.__data__=new f(e);this.size=t.size}function I(){this.__data__=new f,this.size=0}function O(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function A(e){return this.__data__.get(e)}function k(e){return this.__data__.has(e)}function x(e,t){var n=this.__data__;if(n instanceof f){var r=n.__data__;if(!vt||r.length<we-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new m(r)}return n.set(e,t),this.size=n.size,this}function j(e,t){var n=Et(e),r=!n&&Tt(e),o=!n&&!r&&St(e),a=!n&&!r&&!o&&It(e),s=n||r||o||a,l=s?i(e.length,String):[],u=l.length;for(var c in e)!t&&!Xe.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||X(c,u))||l.push(c);return l}function C(e,t,n){(void 0===n||le(e[t],n))&&(void 0!==n||t in e)||L(e,t,n)}function P(e,t,n){var r=e[t];Xe.call(e,t)&&le(r,n)&&(void 0!==n||t in e)||L(e,t,n)}function R(e,t){for(var n=e.length;n--;)if(le(e[n][0],t))return n;return-1}function L(e,t,n){"__proto__"==t&&ft?ft(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function D(e){return null==e?void 0===e?Re:je:dt&&dt in Object(e)?J(e):ie(e)}function M(e){return he(e)&&D(e)==Oe}function z(e){return!(!ge(e)||te(e))&&(de(e)?nt:De).test(se(e))}function B(e){return he(e)&&fe(e.length)&&!!ze[D(e)]}function U(e){if(!ge(e))return re(e);var t=ne(e),n=[];for(var r in e)("constructor"!=r||!t&&Xe.call(e,r))&&n.push(r);return n}function F(e,t,n,r,i){e!==t&&yt(t,function(o,a){if(i||(i=new S),ge(o))N(e,t,a,n,F,r,i);else{var s=r?r(ae(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),C(e,a,s)}},be)}function N(e,t,n,r,i,o,a){var s=ae(e,n),l=ae(t,n),u=a.get(l);if(u)return void C(e,n,u);var c=o?o(s,l,n+"",e,t,a):void 0,d=void 0===c;if(d){var f=Et(l),g=!f&&St(l),h=!f&&!g&&It(l);c=l,f||g||h?Et(s)?c=s:ce(s)?c=G(s):g?(d=!1,c=W(l,!0)):h?(d=!1,c=q(l,!0)):c=[]:pe(l)||Tt(l)?(c=s,Tt(s)?c=ve(s):ge(s)&&!de(s)||(c=K(l))):d=!1}d&&(a.set(l,c),i(c,l,r,o,a),a.delete(l)),C(e,n,c)}function V(e,t){return wt(oe(e,t,ye),e+"")}function W(e,t){if(t)return e.slice();var n=e.length,r=at?at(n):new e.constructor(n);return e.copy(r),r}function H(e){var t=new e.constructor(e.byteLength);return new ot(t).set(new ot(e)),t}function q(e,t){var n=t?H(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function G(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Q(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?L(n,s,l):P(n,s,l)}return n}function $(e,t){var n=e.__data__;return ee(t)?n["string"==typeof t?"string":"hash"]:n.map}function Y(e,t){var n=o(e,t);return z(n)?n:void 0}function J(e){var t=Xe.call(e,dt),n=e[dt];try{e[dt]=void 0;var r=!0}catch(e){}var i=et.call(e);return r&&(t?e[dt]=n:delete e[dt]),i}function K(e){return"function"!=typeof e.constructor||ne(e)?{}:mt(st(e))}function X(e,t){var n=typeof e;return!!(t=null==t?Ie:t)&&("number"==n||"symbol"!=n&&Me.test(e))&&e>-1&&e%1==0&&e<t}function Z(e,t,n){if(!ge(n))return!1;var r=typeof t;return!!("number"==r?ue(n)&&X(t,n.length):"string"==r&&t in n)&&le(n[t],e)}function ee(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function te(e){return!!Ze&&Ze in e}function ne(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ye)}function re(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}function ie(e){return et.call(e)}function oe(e,t,n){return t=ht(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=ht(i.length-t,0),s=Array(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),r(e,this,l)}}function ae(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function se(e){if(null!=e){try{return Ke.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function le(e,t){return e===t||e!==e&&t!==t}function ue(e){return null!=e&&fe(e.length)&&!de(e)}function ce(e){return he(e)&&ue(e)}function de(e){if(!ge(e))return!1;var t=D(e);return t==ke||t==xe||t==Ae||t==Pe}function fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ie}function ge(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function he(e){return null!=e&&"object"==typeof e}function pe(e){if(!he(e)||D(e)!=Ce)return!1;var t=st(e);if(null===t)return!0;var n=Xe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ke.call(n)==tt}function ve(e){return Q(e,be(e))}function be(e){return ue(e)?j(e,!0):U(e)}function me(e){return function(){return e}}function ye(e){return e}function _e(){return!1}var we=200,Te="__lodash_hash_undefined__",Ee=800,Se=16,Ie=9007199254740991,Oe="[object Arguments]",Ae="[object AsyncFunction]",ke="[object Function]",xe="[object GeneratorFunction]",je="[object Null]",Ce="[object Object]",Pe="[object Proxy]",Re="[object Undefined]",Le=/[\\^$.*+?()[\]{}|]/g,De=/^\[object .+?Constructor\]$/,Me=/^(?:0|[1-9]\d*)$/,ze={};ze["[object Float32Array]"]=ze["[object Float64Array]"]=ze["[object Int8Array]"]=ze["[object Int16Array]"]=ze["[object Int32Array]"]=ze["[object Uint8Array]"]=ze["[object Uint8ClampedArray]"]=ze["[object Uint16Array]"]=ze["[object Uint32Array]"]=!0,ze[Oe]=ze["[object Array]"]=ze["[object ArrayBuffer]"]=ze["[object Boolean]"]=ze["[object DataView]"]=ze["[object Date]"]=ze["[object Error]"]=ze[ke]=ze["[object Map]"]=ze["[object Number]"]=ze[Ce]=ze["[object RegExp]"]=ze["[object Set]"]=ze["[object String]"]=ze["[object WeakMap]"]=!1;var Be="object"==typeof e&&e&&e.Object===Object&&e,Ue="object"==typeof self&&self&&self.Object===Object&&self,Fe=Be||Ue||Function("return this")(),Ne="object"==typeof t&&t&&!t.nodeType&&t,Ve=Ne&&"object"==typeof n&&n&&!n.nodeType&&n,We=Ve&&Ve.exports===Ne,He=We&&Be.process,qe=function(){try{var e=Ve&&Ve.require&&Ve.require("util").types;return e||He&&He.binding&&He.binding("util")}catch(e){}}(),Ge=qe&&qe.isTypedArray,Qe=Array.prototype,$e=Function.prototype,Ye=Object.prototype,Je=Fe["__core-js_shared__"],Ke=$e.toString,Xe=Ye.hasOwnProperty,Ze=function(){var e=/[^.]+$/.exec(Je&&Je.keys&&Je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),et=Ye.toString,tt=Ke.call(Object),nt=RegExp("^"+Ke.call(Xe).replace(Le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rt=We?Fe.Buffer:void 0,it=Fe.Symbol,ot=Fe.Uint8Array,at=rt?rt.allocUnsafe:void 0,st=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),lt=Object.create,ut=Ye.propertyIsEnumerable,ct=Qe.splice,dt=it?it.toStringTag:void 0,ft=function(){try{var e=Y(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),gt=rt?rt.isBuffer:void 0,ht=Math.max,pt=Date.now,vt=Y(Fe,"Map"),bt=Y(Object,"create"),mt=function(){function e(){}return function(t){if(!ge(t))return{};if(lt)return lt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();a.prototype.clear=s,a.prototype.delete=l,a.prototype.get=u,a.prototype.has=c,a.prototype.set=d,f.prototype.clear=g,f.prototype.delete=h,f.prototype.get=p,f.prototype.has=v,f.prototype.set=b,m.prototype.clear=y,m.prototype.delete=_,m.prototype.get=w,m.prototype.has=T,m.prototype.set=E,S.prototype.clear=I,S.prototype.delete=O,S.prototype.get=A,S.prototype.has=k,S.prototype.set=x;var yt=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}(),_t=ft?function(e,t){return ft(e,"toString",{configurable:!0,enumerable:!1,value:me(t),writable:!0})}:ye,wt=function(e){var t=0,n=0;return function(){var r=pt(),i=Se-(r-n);if(n=r,i>0){if(++t>=Ee)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(_t),Tt=M(function(){return arguments}())?M:function(e){return he(e)&&Xe.call(e,"callee")&&!ut.call(e,"callee")},Et=Array.isArray,St=gt||_e,It=Ge?function(e){return function(t){return e(t)}}(Ge):B,Ot=function(e){return V(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&Z(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}(function(e,t,n,r){F(e,t,n,r)});n.exports=Ot}).call(t,n(7),n(15)(e))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeContext=t.updateSlotMap=t.getDomainParts=t.setDebuggerLink=t.checkHeaderBidding=t.checkAdsEnabled=t.createObjectFromQuery=t.getQueryString=t.isInViewport=t.getScript=t.injectScript=t.getPagetype=t.getPlatform=t.isMobile=t.has=t.domReady=t.getReferrerHostname=t.uuid=t.waitFor=t.exists=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(5),s=r(a),l=n(2),u=r(l),c=n(0),d=(t.exists=function e(t,n){var r=Array.isArray(n)?n:n.split("."),i=r.shift();return t[i]&&(!r.length||e(t[i],r))||!1},t.waitFor=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;t()?n():setTimeout(e.bind(null,t,n),r)},t.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},t.getReferrerHostname=function(e){if(!e)return null;var t=document.createElement("a");return t.href=e,t.hostname||null},t.domReady=function(e){window.document.addEventListener?window.document.addEventListener("DOMContentLoaded",e):window.attachEvent("onload",e),"complete"!==window.document.readyState&&"interactive"!==window.document.readyState||e()},t.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.isMobile=function(){var e=void 0;try{e=window.top.document.documentElement.clientWidth}catch(e){console.warn(e)}finally{return(e=e||window.document.documentElement.clientWidth)<=c.breakpoints.tablet}}),f=(t.getPlatform=function(){return d()?"mobile":"desktop"},t.getPagetype=function(){return(window.adiData||{}).pageType||window.m_page_type||!1},t.injectScript=function(e,t,n){return new Promise(function(r,i){var a=document.createElement("script");a.type="text/javascript",a.src=e,"object"===(void 0===t?"undefined":o(t))&&Object.keys(t).map(function(e){return a.setAttribute("data-"+e,t[e])}),void 0!==n&&"string"==typeof n&&(a.id=n),a.onreadystatechange=a.onload=function(){r(a)},a.onerror=function(){i("Failed to load script")};var s=document.getElementsByTagName("script")[0];s?s.parentNode.insertBefore(a,s):document.head.appendChild(a)})},t.getScript=function(e,t){var n=document.querySelector("script#"+e);if(!n)return null;var r=n.attributes;return t?Object.keys(r).reduce(function(e,t){return"length"!==t&&"data-"===r[t].nodeName.substring(0,5)?(0,s.default)({},e,i({},r[t].nodeName.substring(5),r[t].nodeValue)):e},{}):n},function(e,t){return document.elementFromPoint(e,t)});t.isInViewport=function(e){var t=e.getBoundingClientRect(),n=document.documentElement.clientWidth||window.innerWidth,r=document.documentElement.clientHeight||window.innerHeight;return!(t.right<0||t.bottom<0||t.left>n||t.top>r)&&(e.contains(f(t.left,t.top))||e.contains(f(t.right,t.top))||e.contains(f(t.right,t.bottom))||e.contains(f(t.left,t.bottom)))};Array.from||(Array.from=function(e){return[].slice.call(e)}),"function"!=typeof window.performance.now&&(window.performance.now=function(){return(new Date).getTime()-window.performance.timing.navigationStart}),function(){if("function"==typeof window.CustomEvent||"object"===o(window.CustomEvent))return!1;var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=window.document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=window.Event.prototype,window.CustomEvent=e}();var g=t.getQueryString=function(){return"string"!=typeof c.affiliateData.domain.search?"":c.affiliateData.domain.search.substring(1)},h=t.createObjectFromQuery=function(e){return e.length?e.split("&").reduce(function(e,t){if(t.length){var n=t.split("=");void 0===n[1]&&(n[1]=!0),"true"!==n[1]&&"false"!==n[1]||(n[1]="true"==n[1]),e[n[0]]?e[n[0]]+=", "+n[1]:e[n[0]]=n[1]}return e},{}):{}},p=(t.checkAdsEnabled=function(e){var t=g(),n=h(t),r=window.location.hash.indexOf("noads=true")>=0;return e=void 0===e||e,("noads"in n&&n.noads||r)&&(e=!1),e},t.checkHeaderBidding=function(e){var t=g(),n=h(t),r=window.location.hash.indexOf("dhb=true")>=0;return e=void 0===e||e,("dhb"in n&&n.dhb||r)&&(e=!1),e},t.setDebuggerLink=function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("div"),n=document.createElement("a"),r=document.createTextNode("DEBUG ADS");n.appendChild(r),n.href='javascript:(function() {document.body.appendChild(document.createElement("script")).src="//static.advance.net/static/common/js/ads/debugger.v2.js";} )();',n.onclick="",t.style.textAlign="center",n.style.fontWeight="bold",t.appendChild(n),e.appendChild(t)},t.getDomainParts=function(e){var t={},n=new RegExp("([a-z-0-9]{2,63}).([a-z.]{2,5})$"),r=e||c.affiliateData.domain.hostname||"";n.exec(r);return t.domain=c.affiliateData.domain.dom,t.type=c.affiliateData.domain.tld,t.subdomain=c.affiliateData.domain.sub,t.path=c.affiliateData.domain.pathname,t.query=c.affiliateData.domain.search.substring(1),t.hash=c.affiliateData.domain.hash,t},function(e){var t="; "+document.cookie,n=t.split("; "+e+"=");if(2==n.length)return n.pop().split(";").shift()});t.updateSlotMap=function(e,t,n){var r=t||"injected",i=c.dfpSlotMap[n],a=e.slotMap||{},s="";s=void 0!==e.container?"object"===o(e.container)?e.container.id:e.container:e.position;var l=void 0!==c.oasDivToSlot[e.position],d=l?c.oasDivToSlot[e.position]:e.position,f={divId:s,adType:r,slotName:d,slotTargeting:{}},g=p("adv_local_flag");f.slotTargeting.rg_local=void 0===g?"undefined":"1"===g?"true":"false",l&&(f.slotTargeting.rg_oasPosition=e.position);var h=(0,u.default)({},i[d],f);return(0,u.default)({},h,a)},t.sanitizeContext={sanitizeAll:function(e){return e?this.sanitizeFile(this.sanitizeDate(this.sanitizeDigits(e))):""},sanitizeDigits:function(e){return e?c.domainWhiteList.some(function(t){return e.indexOf(t)>-1})?e:e.replace(/\/[\W?\d?]+\/.*/i,""):""},sanitizeDate:function(e){return e?e.replace(/\/\d{4}\/\d{2}\/.*/i,""):""},sanitizeFile:function(e){return e?e.indexOf("index.html")>-1?e.replace("index.html","index.ssf"):e.indexOf("/index.ssf")>-1?e:e.replace(/\/[^\\\/]+\.[^\\\/]+$/,""):""}}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){p&&g&&(p=!1,g.length?h=g.concat(h):v=-1,h.length&&s())}function s(){if(!p){var e=i(a);p=!0;for(var t=h.length;t;){for(g=h,h=[];++v<t;)g&&g[v].run();v=-1,t=h.length}g=null,p=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var g,h=[],p=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||p||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function i(e,t){var n=R(e)||g(e)?r(e.length,String):[],i=n.length,o=!!i;for(var a in e)!t&&!A.call(e,a)||o&&("length"==a||u(a,i))||n.push(a);return n}function o(e,t,n){var r=e[t];A.call(e,t)&&f(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function a(e){if(!d(e))return j(e);var t=[];for(var n in Object(e))A.call(e,n)&&"constructor"!=n&&t.push(n);return t}function s(e,t){return t=C(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=C(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}function l(e,t,n,r){n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;o(n,s,void 0===l?e[s]:l)}return n}function u(e,t){return!!(t=null==t?w:t)&&("number"==typeof e||I.test(e))&&e>-1&&e%1==0&&e<t}function c(e,t,n){if(!m(n))return!1;var r=typeof t;return!!("number"==r?h(n)&&u(t,n.length):"string"==r&&t in n)&&f(n[t],e)}function d(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||O)}function f(e,t){return e===t||e!==e&&t!==t}function g(e){return p(e)&&A.call(e,"callee")&&(!x.call(e,"callee")||k.call(e)==T)}function h(e){return null!=e&&b(e.length)&&!v(e)}function p(e){return y(e)&&h(e)}function v(e){var t=m(e)?k.call(e):"";return t==E||t==S}function b(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=w}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function _(e){return h(e)?i(e):a(e)}var w=9007199254740991,T="[object Arguments]",E="[object Function]",S="[object GeneratorFunction]",I=/^(?:0|[1-9]\d*)$/,O=Object.prototype,A=O.hasOwnProperty,k=O.toString,x=O.propertyIsEnumerable,j=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),C=Math.max,P=!x.call({valueOf:1},"valueOf"),R=Array.isArray,L=function(e){return s(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&c(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}(function(e,t){if(P||d(t)||h(t))return void l(t,_(t),e);for(var n in t)A.call(t,n)&&o(e,n,t[n])});e.exports=L},function(e,t,n){"use strict";function r(){this._events={once:{}}}r.prototype.on=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},r.prototype.off=function(e,t){this._events[e]&&this._events[e].splice(this._events[e].indexOf(e),1)},r.prototype.emit=function(e,t){var n=[].slice.call(arguments,1);this._events[e]&&this._events[e].forEach(function(e){e.apply(e,n)})},e.exports=new r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){if(r(this,e),!t||"object"!==(void 0===t?"undefined":i(t)))throw new TypeError("Target: Window must be an object.");this.window=t,this.data={},this.initialized=!1}return o(e,[{key:"get",value:function(){if(!this.initialized)throw new Error("This instance has not been initialized yet.")}},{key:"getDataSources",value:function(){var e=Object.keys(this.data),t={};if(e.length){for(var n=0;n<e.length;n++)if(Array.isArray(this.data[e[n]])&&this.data[e[n]].length>400){var r=this.data[e[n]].length-(this.data[e[n]].length-400);t[e[n]]=this.data[e[n]].splice(-r)}else t[e[n]]=this.data[e[n]];return Object.keys(t).length?t:null}}}]),e}();t.default=a},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=function(){function e(t,n){if(i(this,e),"object"!==(void 0===t?"undefined":o(t)))throw new TypeError("Need a window object");var r=n||{};this.window=t,this.window.burtApi=this.window.burtApi||[];var a=r.logLevel;this.logger=u.Logger.getLogger({window:t,context:"Analytics",logLevel:a,startTime:r.startTime}),this.perfStore={},this.refreshCount={},this.adCount={}}return a(e,[{key:"start",value:function(e){var t=this;this.queueExecution(function(){t.window.burtApi.startTracking(e)})}},{key:"stop",value:function(){var e=this;this.queueExecution(function(){e.window.burtApi.stopTracking()})}},{key:"queueExecution",value:function(e){var t=this;return new Promise(function(n){t.window.burtApi.push(function(){e(),n()})})}},{key:"savePerformanceEvent",value:function(e){this.perfStore[e]=this.window.performance.now()}},{key:"getPerformanceString",value:function(){for(var e=Object.keys(this.perfStore),t="",n=0;n<e.length;n++){var r=e[n],i=this.perfStore[r];t+=(0===n?"":"||")+r+":"+i}return t}},{key:"sendPerformanceEvent",value:function(){var e={};e.action="adsLoaded",e.category="ads",e.label=this.getPerformanceString(),this.sendEvent(e)}},{key:"sendEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{action:t.action||e.DEFAULTS.ACTION,category:t.category||e.DEFAULTS.CATEGORY,label:t.label||e.DEFAULTS.LABEL,value:t.value||e.DEFAULTS.VALUE}}},{key:"trackUnits",value:function(e){var t=this;return[].concat(e).map(function(e){return t.findOrCreateUnit(e)})}},{key:"generateUnitName",value:function(e){var t=e.slotName,n=void 0!==this.refreshCount[e.container.id],i=e.slotMap.adType||"";return void 0===this.adCount[e.slotName]&&(this.adCount=(0,l.default)({},this.adCount,r({},e.slotName,0))),t+("autoload"!==i?"-"+i:"")+"-"+(n?this.refreshCount[e.slotName]:++this.adCount[e.slotName])}},{key:"findOrCreateUnit",value:function(e){var t=this;return new Promise(function(n){var r=e.tracking.burt;r&&e&&(r.destroy(),t.refreshCount[e.slotName]=++t.refreshCount[e.slotName]||1),t.window.burtApi.push(function(){try{r=t.window.burtApi.trackByNode(e.container,{name:t.generateUnitName(e)}),t.logger.debug("Starting tracking for "+e.container.id)}catch(n){t.adCount[e.slotName]=0,t.logger.debug(n),r=null}n(r)})})}},{key:"startBurtConnection",value:function(e){var t=this,n=e.tracking.burt,r=void 0;return n&&e?(n.connect("burt.campaign","campaign-id",String(e.lineItemId)),n.connect("burt.campaign","creative-id",String(e.creativeId)),r=Promise.resolve(n)):e&&(r=this.findOrCreateUnit(e).then(function(t){return t&&(t.connect("burt.campaign","campaign-id",String(e.lineItemId)),t.connect("burt.campaign","creative-id",String(e.creativeId))),t}).catch(function(e){return t.logger.error(e)})),r}},{key:"finished",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendPerformanceData({bids:e.winningBids||"",performance:e.performance||""}),this.sendTimeoutTestData(e.winningBids),this.sendProviderTestData([e.winningBids,{auctionLength:e.performance.auctionEnd-e.performance.auctionStart},{partner_list:void 0!==this.window.CustomAdDataConfig&&void 0!==this.window.CustomAdDataConfig.attributes.nucleus.source.options.partner_list?this.window.CustomAdDataConfig.attributes.nucleus.source.options.partner_list.sort():["apnh","aol","casale","oxm","pubmatic","rubicon","yieldbot"]}])}},{key:"sendPerformanceData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e.performance).reduce(function(t,n){return"".concat(t,n+":"+e.performance[n]+"||")},"").slice(0,-2),n="";void 0!==e.bids&&(n=Object.keys(e.bids).reduce(function(t,n){return"".concat(t,n+":"+e.bids[n]+"||")},"||").slice(0,-2)),this.sendEvent({action:"adsLoaded",category:"ads",label:"".concat(t,n),value:1,threshold:5})}},{key:"sendTimeoutTestData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n=!1;try{var r=window.localStorage.getItem("hbTimeout");r?(n=!0,t=r):t=2500}catch(e){t=2500}var i=Object.keys(e);i.length>0&&n&&this.sendEvent({action:"timeoutResults",category:"mbid",label:i.reduce(function(t,n){return"".concat(t,n+":"+e[n]+"||")},"timeout:"+t+"||").slice(0,-2),value:1})}},{key:"sendProviderTestData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!1;try{window.localStorage.getItem("mbidPartnerList")&&(t=!0)}catch(e){console.log(e)}(t||Math.random()<=.075)&&this.sendEvent({action:"providerResults",category:"mbid",label:e.reduce(function(e,t){return t?"".concat(e,Object.keys(t).reduce(function(e,n){return[].concat(e,n+":"+t[n]+"||")},[]).join("")):e},"").slice(0,-2),value:1})}}],[{key:"DEFAULTS",get:function(){return{ACTION:"",CATEGORY:"general",LABEL:null,VALUE:null,BASIC_EVENT_NAME:"burt.basic-event"}}}]),e}();t.default=c},function(e,t,n){"use strict";var r=n(11),i=function(e){return e&&e.__esModule?e:{default:e}}(r);window.AdManager||(window.AdManager=i.default.initialize())},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.createAPI=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(12),s=r(a),l=n(13),u=n(5),c=r(u),d=n(2),f=r(d),g=n(16),h=r(g),p=n(18),v=r(p),b=n(9),m=r(b),y=n(3),_=n(1),w=n(0),T=n(21),E=r(T),S=n(6),I=r(S),O=n(24),A=r(O),k=(0,y.getPlatform)(),x=function(){return(window.adiData||{}).pageType||window.m_page_type||!1}();if(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],"homepage"===x)var j=150;else if("cal"===x)var j="mobile"===k?275:225;else var j="mobile"===k?200:150;(0,l.polyfill)(),void 0!==window.sessionStorage&&window.sessionStorage.setItem("revgen/pageViewId",(0,y.uuid)());var C=w.affiliateData.domain.dom+"."+w.affiliateData.domain.tld,P=(0,y.createObjectFromQuery)(w.affiliateData.domain.search.replace("?",""));!function(e,t,n,r,i,o,a){function s(n,r){t[e]._Q.push([n,r])}var l="noads"in P&&P.noads||"dhb"in P&&P.dhb||void 0!==window.Amazon&&!window.Amazon,u=w.dfpMap[C]&&"undefined"!==w.dfpMap[C].amznAdsEnabled?w.dfpMap[C].amznAdsEnabled:w.dfpMap.default.amznAdsEnabled;!l&&u&&((0,w.addToConfig)({apstagEnabled:!0}),t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},o=n.createElement(r),o.async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",a=n.getElementsByTagName(r)[0],a.parentNode.insertBefore(o,a)))}("apstag",window,document,"script");var R={config:w.config,initialized:!1,domReady:!1,fetchedAds:{},didAutoLoad:!1,dataSourcesPromise:null,analyticData:{performance:{}}},L={analytics:null,data:null,log:null,time:null,gpt:null,api:null,ready:!1};I.default.on("gpt:ready",function(){AdManager.ready=!0,I.default.emit("ready")});var D=_.Logger.getLogger({window:window,context:"Revgen",logLevel:R.config.logLevel,startTime:window.performance?window.performance.now()/1e3:Date.now()/1e3}),M=function(){function e(){i(this,e)}return o(e,null,[{key:"injectUnit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.length)return void L.gpt.log.debug("Inject unit was called without any divs");var r=0,i=e.length;for(r;r<i;r++)L.gpt.log.debug("Inject unit called for "+e[r].divId),e[r]=(0,f.default)({},e[r],t);if(L.gpt.ready){for(;i--;)this.unitExists(e[i].divId)&&(L.gpt.refreshAds([e[i]]),e.splice(i,1));L.gpt.setSlots(e)}else{var o="";for(r=0;r<i;r++)o+=e[r].divId+" ",this.unitExists(e[r].divId)?L.gpt.refreshQueue.push(e[r]):L.gpt.injectQueue.push(e[r]);o=o.trim(),L.gpt.log.debug("Inject unit called before GPT was ready.  Pushing "+o+" to queueAdCall")}n&&n()}},{key:"refreshUnit",value:function(e,t){if(!e.length)return void L.log.debug("refreshUnit was called without any divs");var n=L.gpt.adUnits;if(n[e]&&(e=n[e].slot),e.slotMap&&(e.slotMap.adType="refreshed"),L.gpt.ready)L.gpt.refreshAds([e]);else if(L.gpt.log.debug("Refresh unit called before GPT was ready.  Pushing "+e.divId+" to queueAdCall"),Array.isArray(e))for(var r=0;r<e.length;r++)L.gpt.refreshQueue.push(e[r]);else L.gpt.refreshQueue.push(e);t&&t()}},{key:"refreshViewableUnits",value:function(){var e=L.gpt.AdUnits,t=[];t=Object.keys(e).reduce(function(e,t){var n=window.document.getElementById(t);return n&&(0,y.isInViewport)(n)?[].concat(e,{divId:t}):e},[]),L.gpt.refreshAds(t)}},{key:"unitExists",value:function(e){return Object.keys(L.gpt.AdUnits).indexOf(e)>=0}},{key:"makeSmartAd",value:function(e){var t=this,n={element:e.container,parent:e.container.parentNode,active:!0};return googletag.cmd.push(function(){s.default.create(e.container,{context:document.body.classList.contains("modal_open")?document.querySelector(".gallery_modal"):null,offset:j,triggerFirstInViewEvent:!0,debug:!w.adDebug}).once("entering",function(n){t.unitExists([e.slotMap.divId])?t.refreshUnit([e.slotMap]):t.injectUnit([e.slotMap])})}),n}},{key:"setContext",value:function(e){(L.gpt||E.default).setContext(e)}},{key:"setHost",value:function(e){R.config.host=e}},{key:"getPageViewId",value:function(){var t=void 0;try{t=window.sessionStorage.getItem("revgen/pageViewId")}catch(e){L.log.warn("Session Storage is not available.")}return t||e.setPageViewId()}},{key:"setPageViewId",value:function(){var e=(0,y.uuid)();try{window.sessionStorage.setItem("revgen/pageViewId",e)}catch(e){L.log.warn("Session Storage is not available.")}return e}},{key:"getValue",value:function(e){var t=R.analyticData[e];if(void 0===t)try{t=window.localStorage.getItem(e),t||(t=window.sessionStorage.getItem("revgen"+e))}catch(e){L.log.warn("Local Storage is not available.")}return t}},{key:"updateEmbeddedTags",value:function(e){var t=e||{};L.data.updateEmbeddedTags(t),void 0!==t.context&&t.context.length&&this.setContext(t.context),L.gpt.setPageLevelData(L.data.getDataSources())}},{key:"updateContext",value:function(e){e&&L.gpt.setContext(e)}},{key:"getContext",value:function(){return L.gpt.adUnitPath}},{key:"dumpState",value:function(){return L.gpt.adUnitsLoaded}}]),e}(),z=t.createAPI=function(){return new h.default(M,R.config)},B=function(){return new Promise(function(e,t){apstag.init({pubID:"3178",adServer:"googletag"}),e(apstag)})},U=function(){if("undefined"!==w.dfpMap[C]){var e=w.dfpMap[C].indexExchange?w.dfpMap[C].indexExchange:w.dfpMap.default.indexExchange,t="//js-sec.indexww.com/ht/p/183623-"+e+".js";return(0,y.injectScript)(t,{})}return Promise.reject()},F=function(){L.log.debug("Starting gpt script injection");return(0,y.injectScript)("https://securepubads.g.doubleclick.net/tag/js/gpt.js",{},"gpt-script")},N=function(t){if(R.initialized)return L.log.debug("Revgen already initialized; returning API"),L.api;L.log||(L.log=D),R.config.startTime=L.log.startTime,L.log.debug("Revgen Initialization Start");var n=null,r=!0,i=new Promise(function(e){return e()}),o=new Promise(function(e){return e()}),a=new Promise(function(e){return e()});return void 0!==window.localStorage&&window.location.pathname.indexOf("/adabuse")<0&&window.localStorage.getItem("revgen/store")&&window.localStorage.removeItem("revgen/store"),R.config=(0,w.addToConfig)((0,c.default)({},R.config,t)),R.config.adsEnabled=(0,y.checkAdsEnabled)(R.config.adsEnabled),R.config.adsEnabled?(R.config.enableHeaderBidding=(0,y.checkHeaderBidding)(R.config.enableHeaderBidding),R.config.enableHeaderBidding&&(L.log.debug("Injecting Header bidding"),void 0===window.indexExchange&&void 0===R.config.indexExchange||(r=window.indexExchange||R.config.indexExchange),r&&(i=U()),window.apstag&&(o=B())),R.config.platform=(0,y.getPlatform)(),n=Promise.all([i,o]).then(function(){return F()}).catch(function(){return F()}).then(function(){return L.log.debug("GPT script injected")}),L.gpt=new E.default(R.config),L.analytics=new m.default(window,R.config),L.data=new v.default(window,R.config),a=L.data.init()||a,R.dataSourcesPromise=Promise.all([n,a]).then(function(e){L.log.debug("DATA SOURCES RESOLVED && GPT READY");var t=(e[0],e[1]),n=L.data.getDataSources();L.gpt.init(n,L.analytics),Object.keys(t).length?(R.analyticData=(0,f.default)({},R.analyticData,{rg_product:t.embeddedTags.data.rg_product,rg_pagetype:t.embeddedTags.data.rg_pagetype}),L.log.debug("Sources received")):L.log.debug("No sources received")}),(0,A.default)(function(){L.log.debug("DOM Ready"),R.domReady=!0,(0,w.addToConfig)((0,y.getScript)("revgen",!0)),R.config.debuggerLinkEnabled=document.cookie.indexOf("adv_ads_debugger")>-1,R.config.debuggerLinkEnabled&&(0,y.setDebuggerLink)()}),L.api=z(),R.initialized=!0,e.env.NODE_ENV,L.api):void L.log.debug("Ads are disabled. Exiting Revgen")},V=function(e){return N(e||w.config)};t.default={initialize:V}}).call(t,n(4))},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";!function(){"undefined"==typeof Array||Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}},configurable:!0,writable:!0})}(),function(e,t){function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||c(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function r(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=o(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function i(){return e.performance&&performance.now&&performance.now()}function o(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}function a(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function s(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function l(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):c()}function c(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)return void("isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));r.prototype.THROTTLE_TIMEOUT=10,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},r.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},r.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(a(e,"resize",this._checkForIntersections,!0),a(t,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():c();this._observationTargets.forEach(function(r){var o=r.element,a=u(o),s=this._rootContainsTarget(o),l=r.entry,c=e&&s&&this._computeTargetAndRootIntersection(o,t),d=r.entry=new n({time:i(),target:o,boundingClientRect:a,rootBounds:t,intersectionRect:c});l?e&&s?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var i=u(n),o=i,a=f(n),s=!1;!s;){var c=null,d=1==a.nodeType?e.getComputedStyle(a):{};if("none"==d.display)return;if(a==this.root||a==t?(s=!0,c=r):a!=t.body&&a!=t.documentElement&&"visible"!=d.overflow&&(c=u(a)),c&&!(o=l(c,o)))break;a=f(a)}return o}},r.prototype._getRootRect=function(){var e;if(this.root)e=u(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||d(t,this.root)},r.prototype._rootContainsTarget=function(e){return d(this.root||t,e)},r.prototype._registerInstance=function(){},r.prototype._unregisterInstance=function(){},"IntersectionObserver"in e||"IntersectionObserverEntry"in e||(e.IntersectionObserver=r,e.IntersectionObserverEntry=n)}(window,document);var e=!!document.documentMode,t=!e&&!!window.StyleMedia,n=function(e){return e instanceof HTMLElement},r=function(e){"0px"===window.getComputedStyle(e).getPropertyValue("height")&&""===e.style.border&&(e.style.borderTop="1px solid transparent")},i=window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){return e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var o=function(e,t){var n=t*e.height/100,r={top:e.top-n,bottom:e.bottom+n};return r.height=r.bottom-r.top,r},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(){function e(){a(this,e),this._eventHandlers={}}return s(e,[{key:"on",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(-1===e.indexOf(" "))this._eventHandlers[e]=this._eventHandlers[e]||[],this._eventHandlers[e].push({callback:t,once:r});else{e.split(" ").forEach(function(e){n.on(e,t,r)})}}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"off",value:function(e,t){var n=this;if(this._eventHandlers[e])return this._eventHandlers[e].forEach(function(r,i){r.callback===t&&n._eventHandlers[e].splice(i,1)}),!0}},{key:"emit",value:function(e,t){var n=this;if(this._eventHandlers[e]&&this._eventHandlers[e].length){var r=[].slice.call(arguments,1);this._eventHandlers[e].forEach(function(t){t.callback.apply(t.callback,r),t.once&&n.off(e,t.callback)})}}}]),e}(),d=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.debug,r=e.manager,i=e.observer,o=e.offset,s=e.target,l=e.triggerFirstInViewEvent;a(this,t);var c=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c._DEBUG=n||!1,c._triggerFirstInViewEvent=l,c.offset=o,c.target=s,c.observer=i,c.manager=r,c}return l(t,e),s(t,[{key:"init",value:function(){this._direction=null,this._previousScrollOffset=-1,this.observe()}},{key:"observe",value:function(){this.observer.observe(this.target)}},{key:"unobserve",value:function(){this.manager._destroyElement(this)}},{key:"inView",value:function(e){var t=e.isIntersecting;if(this._DEBUG&&(console.log("_expandRectByRootMargin:"),console.log(o(e.boundingClientRect,this.offset))),t){var n=e.isIntersecting&&e.intersectionRatio>=1,r=e.boundingClientRect.top+e.boundingClientRect.height>e.rootBounds.top+e.rootBounds.height,i=e.boundingClientRect.top<e.rootBounds.top;this._setScrollDirection();var a="down"===this._direction,s="up"===this._direction;return t&&this._triggerFirstInViewEvent&&1===Object.keys(this._eventHandlers).length?(this.manager._DEBUG&&(console.group("%c[ DEBUG - Sleeper ]","color:red"),console.log("triggerFirstInViewEvent for: "+this.target.id),console.groupEnd()),this._emitAction("entering"),this.manager._destroyElement(this),!0):a&&!s&&t&&!n&&r&&!i?this._emitAction("entering"):a&&!s&&t&&n&&!r&&!i?this._emitAction("entered"):a&&!s&&t&&!n&&!r&&i?this._emitAction("leaving"):!a||s||t||n||r||!i?!a&&s&&t&&!n&&!r&&i?this._emitAction("entering"):!a&&s&&t&&n&&!r&&!i?this._emitAction("entered"):!a&&s&&t&&!n&&r&&!i?this._emitAction("leaving"):a||!s||t||n||!r||i?void 0:this._emitAction("left"):this._emitAction("left")}}},{key:"_emitAction",value:function(e){var t={direction:this._direction,name:e,observer:this.observer,offset:this.offset,target:this.target,type:"intersection"};return this.manager._DEBUG&&(console.group("%c[ DEBUG - Sleeper ]","color:red"),console.log("element: "+this.target.id+" || event: "+e+" || direction: "+this._direction+" || offset: "+this.offset),console.log(t),console.groupEnd()),this.emit(e,t)}},{key:"_setScrollDirection",value:function(){var e=null!==this.observer.root?this.observer.root:null,t=null===e?window.pageYOffset:e.scrollTop;t>this._previousScrollOffset?this._direction="down":t<this._previousScrollOffset&&(this._direction="up"),this._previousScrollOffset=t}},{key:"_getOffsetPercentage",value:function(e){}}]),t}(c),f=new Map,g=new Map;return new(function(){function e(){a(this,e),this._DEBUG=!1,f.set(this,[]),g.set(this,[])}return s(e,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.debug,i=void 0!==r&&r,o=t.offset,a=void 0===o?0:o,s=t.context,l=void 0===s?null:s,u=t.triggerFirstInViewEvent,c=void 0!==u&&u;this._DEBUG=i;var d=l&&l===window?null:l;if(!e||!n(e))return console.error('Sleeper: Invalid target. Should be an "HTMLElement."'),!1;"none"===window.getComputedStyle(e).display&&console.error("Sleeper: The element must be visible.");var f=this._setOptions(a,d),g=this._createObserver(f),h=this._createElement(e,g,a,c);return h.init(),h}},{key:"destroy",value:function(){var e=f.get(this),t=g.get(this);e.length=0,t.forEach(function(e){return e.disconnect()}),t.length=0}},{key:"_setOptions",value:function(e,t){return{root:n(t)?t:null,rootMargin:(e||0)+"% 0% "+(e||0)+"% 0%",threshold:[0,1]}}},{key:"_handleIntersection",value:function(e,t){var n=this._getElements(t);e.forEach(function(e){var t=n.find(function(t){return t.target===e.target});t&&t.inView(e)})}},{key:"_createObserver",value:function(e){var t=this._getObserver(e);if(this._DEBUG&&(console.group("%c[ DEBUG - Sleeper ] => _createObserver","color:red"),console.log("options: "+JSON.stringify(e)),console.log("existingObserver:",t),console.groupEnd()),t)return t;var n=new IntersectionObserver(this._handleIntersection.bind(this),e);return this._addObserver(n),n}},{key:"_addObserver",value:function(e){g.get(this).push(e)}},{key:"_getObserver",value:function(e){return g.get(this).find(function(t){return t.root===e.root&&t.rootMargin===e.rootMargin})}},{key:"_destroyObserver",value:function(e){var t=g.get(this),n=t.indexOf(e);e.disconnect(),t.splice(n,1)}},{key:"_createElement",value:function(e,n,o,a){t&&(this._DEBUG&&console.log("%c[ sleeper ] updating element for Edge"),i(function(){return r(e)}));var s=new d({debug:this._DEBUG,manager:this,target:e,observer:n,offset:o,triggerFirstInViewEvent:a});return this._addElement(s),s}},{key:"_addElement",value:function(e){f.get(this).push(e)}},{key:"_getElements",value:function(e){return f.get(this).filter(function(t){return t.observer===e})}},{key:"_destroyElement",value:function(e){this._DEBUG&&(console.group("%c[ DEBUG - Sleeper ]","color:red"),console.log("Destroying: "+e.target.id),console.log("Elements:",f),console.groupEnd());var t=f.get(this),n=t.indexOf(e),r=e.observer;t.splice(n,1),0===this._getElements(r).length&&this._destroyObserver(r)}}]),e}())})},function(e,t,n){(function(t,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   3.3.1
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){q=e}function a(e){G=e}function s(){return function(){H(u)}}function l(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<W;e+=2){(0,X[e])(X[e+1]),X[e]=void 0,X[e+1]=void 0}W=0}function c(e,t){var n=arguments,r=this,i=new this.constructor(f);void 0===i[ee]&&C(i);var o=r._state;return o?function(){var e=n[o-1];G(function(){return k(o,i,e,r._result)})}():S(r,i,e,t),i}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(f);return _(n,e),n}function f(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function p(e){try{return e.then}catch(e){return ie.error=e,ie}}function v(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function b(e,t,n){G(function(e){var r=!1,i=v(n,t,function(n){r||(r=!0,t!==n?_(e,n):T(e,n))},function(t){r||(r=!0,E(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,E(e,i))},e)}function m(e,t){t._state===ne?T(e,t._result):t._state===re?E(e,t._result):S(t,void 0,function(t){return _(e,t)},function(t){return E(e,t)})}function y(e,t,n){t.constructor===e.constructor&&n===c&&t.constructor.resolve===d?m(e,t):n===ie?E(e,ie.error):void 0===n?T(e,t):i(n)?b(e,t,n):T(e,t)}function _(t,n){t===n?E(t,g()):e(n)?y(t,n,p(n)):T(t,n)}function w(e){e._onerror&&e._onerror(e._result),I(e)}function T(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&G(I,e))}function E(e,t){e._state===te&&(e._state=re,e._result=t,G(w,e))}function S(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=n,i[o+re]=r,0===o&&e._state&&G(I,e)}function I(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?k(n,r,i,o):i(o);e._subscribers.length=0}}function O(){this.error=null}function A(e,t){try{return e(t)}catch(e){return oe.error=e,oe}}function k(e,t,n,r){var o=i(n),a=void 0,s=void 0,l=void 0,u=void 0;if(o){if(a=A(n,r),a===oe?(u=!0,s=a.error,a=null):l=!0,t===a)return void E(t,h())}else a=r,l=!0;t._state!==te||(o&&l?_(t,a):u?E(t,s):e===ne?T(t,a):e===re&&E(t,a))}function x(e,t){try{t(function(t){_(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}function j(){return ae++}function C(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function P(e,t){this._instanceConstructor=e,this.promise=new e(f),this.promise[ee]||C(this.promise),V(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):E(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function L(e){return new P(this,e).promise}function D(e){var t=this;return new t(V(e)?function(n,r){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function M(e){var t=this,n=new t(f);return E(n,e),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(e){this[ee]=j(),this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&z(),this instanceof U?x(this,e):B())}function F(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=U}var N=void 0;N=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var V=N,W=0,H=void 0,q=void 0,G=function(e,t){X[W]=e,X[W+1]=t,2===(W+=2)&&(q?q(u):Z())},Q="undefined"!=typeof window?window:void 0,$=Q||{},Y=$.MutationObserver||$.WebKitMutationObserver,J="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),K="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Z=void 0;Z=J?function(){return function(){return t.nextTick(u)}}():Y?function(){var e=0,t=new Y(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():K?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===Q?function(){try{var e=n(14);return H=e.runOnLoop||e.runOnContext,s()}catch(e){return l()}}():l();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ie=new O,oe=new O,ae=0;return P.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===te&&n<e;n++)this._eachEntry(t[n],n)},P.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===d){var i=p(e);if(i===c&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===U){var o=new n(f);y(o,e,i),this._willSettleAt(o,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},P.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?E(r,n):this._result[t]=n),0===this._remaining&&T(r,this._result)},P.prototype._willSettleAt=function(e,t){var n=this;S(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},U.all=L,U.race=D,U.resolve=d,U.reject=M,U._setScheduler=o,U._setAsap=a,U._asap=G,U.prototype={constructor:U,then:c,catch:function(e){return this.then(null,e)}},F(),U.polyfill=F,U.Promise=U,U})}).call(t,n(4),n(7))},function(e,t){},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=n(3),l=n(0),u=n(6),c=function(e){return e&&e.__esModule?e:{default:e}}(u),d=function(){function t(n,o){var u=this;r(this,t),this.ready=!1,this.events=c.default,this.wrapper=n,this.isRevgen=!0,this.log=a.Logger.getLogger({window:window,context:"API",logLevel:l.config.api.logLevel}),this.context=null,this.oasAdsHost=null,this.platform=void 0!==o.platform?o.platform:(0,s.getPlatform)(),this.dfpSlotMap=l.dfpSlotMap[this.platform];var d="production"!==e.env.NODE_ENV;this.normalizeOptions=function(e,t){if(e){var n=e;return Array.isArray(n)&&n.length&&(Array.isArray(n[0])&&(n=n.map(function(e){if(e[0]&&e[1])return{position:e[0],container:e[1]}})),"object"!==i(n[0])&&n[0]&&n[1]&&(n[0]={position:n[0],container:n[1]},n.splice(1))),"object"===(void 0===n?"undefined":i(n))&&n.container&&n.position&&(n=[n]),n=n.map(function(e){return(0,s.updateSlotMap)(e,t,u.platform)})}return null},this.injectUnit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;for(var r=u.normalizeOptions(e,"injected"),i=[],o=r.length;o--;)document.getElementById(r[o].divId)?u.wrapper.unitExists(r[o].divId)&&(i.push(r[o].divId),r.splice(o,1)):u.log.warn(r[o].divId+" does not exist in the dom");return i.length&&u.wrapper.refreshUnit(i,n),r.length&&u.wrapper.injectUnit(r,t,n),null};var f=this;this.debug={start:function(){var e=window.document.querySelectorAll("script[src*='/static/common/js/ads/debugger']")[0];return e&&e.parentNode.removeChild(e),(0,s.injectScript)("//static.advance.net/static/common/js/ads/debugger.v2.js",void 0,"ads-debugger-script").then(function(){d=!0},function(){window.alert("Failed to load the ads debugger.  Please contact support at ads@advance.net to report this")})},dump:function(){if(d||window.document.querySelectorAll("script[src*='/static/common/js/ads/debugger.v2']")[0]){d||(d=!0);return f.wrapper.dumpState()}return f.log.warn("This can only be used when in debugging mode"),null}}}return o(t,[{key:"refreshUnits",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?Array.isArray(e)?e.map(function(e){return e instanceof Element?t.wrapper.refreshUnit(e.id,n):t.wrapper.refreshUnit(e,n)}):e instanceof Element?this.wrapper.refreshUnit(e.id,n):this.wrapper.refreshUnit(e,n):null}},{key:"refreshUnit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.refreshUnits(e,t)}},{key:"refreshViewableUnits",value:function(){this.wrapper.refreshViewableUnits()}},{key:"makeSmartAd",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e instanceof Element?e:document.getElementById(e);if(n){var r=t.position||n.getAttribute("title");void 0!==l.oasDivToSlot[r]&&l.oasDivToSlot[r];n.id||(n.id=r+"_"+Date.now());var i=t.slotMap||{},o={container:n,position:r,context:t.context||null,slotMap:(0,s.updateSlotMap)({position:r,container:n,slotMap:i},"injected",this.platform)};return this.wrapper.makeSmartAd(o)}return null}},{key:"getContainer",value:function(e){return e instanceof Element?e:document.getElementById(e)}},{key:"updateEmbeddedTags",value:function(e){var t=e||{};this.wrapper.updateEmbeddedTags(t)}},{key:"getContext",value:function(){return this.wrapper.getContext()}},{key:"getViewability",value:function(e){return this.wrapper.getViewability(e.id||e)}},{key:"appendQuery",value:function(e){var t=this;return e?"string"==typeof e?this.wrapper.appendQuery({key:"tag",value:e}):Array.isArray(e)?e.reduce(function(e,n){return"string"==typeof n?[].concat(e,t.wrapper.appendQuery({key:"tag",value:n})):"object"===(void 0===n?"undefined":i(n))?[].concat(e,t.wrapper.appendQuery({key:n.key,value:n.value})):e},[]):"object"===(void 0===e?"undefined":i(e))?this.wrapper.appendQuery({key:e.key,value:e.value}):this.log.warn("Invalid data type"):this.log.warn("No data value passed")}},{key:"getPlatform",value:function(){return this.platform}},{key:"getValue",value:function(e){return this.wrapper.getValue(e)}},{key:"setPageViewId",value:function(){return this.wrapper.setPageViewId()}},{key:"getPageViewId",value:function(){return this.wrapper.getPageViewId()}},{key:"isDefined",value:function(){return console.warn("Calls to AdManager.isDefined() have been deprecated.  Please remove all references."),null}},{key:"defineUnit",value:function(){return console.warn("Calls to AdManager.defineUnit() have been deprecated.  Please remove all references."),null}},{key:"UnitOptions",value:function(){return console.warn("Calls to AdManager.UnitOptions() have been deprecated.  Please remove all references."),null}},{key:"CONTEXT",set:function(e){return this.context=e,this.wrapper.setContext(e),this.context}},{key:"OasAdsHost",set:function(e){return this.oasAdsHost=e,this.wrapper.setHost(e),this.oasAdsHost},get:function(){return this.oasAdsHost}}]),t}();t.default=d}).call(t,n(4))},function(e,t,n){(function(e){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},i=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set}catch(e){return!1}})()||function(){var i=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof i){var n=this;e.forEach(function(e,t){n.append(t,e)})}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var o=e[r];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},o=i.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var i=0;i<n.length;i++)e.call(t,n[i],r,this)}},o.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),n(e)},o.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},o.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),n(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach(function(t,n){e.push(r(n)+"="+r(t))}),e.join("&")},e.URLSearchParams=i}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach(function(n,r){t.push([r,n]),e._entries||e.delete(r)}),t.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach(function(e,n){t.push(n)});for(var n=0;n<t.length;n++)this.delete(t[n])}e=e.replace(/^\?/,"");for(var r,o=e.split("&"),n=0;n<o.length;n++)r=o[n].split("="),this.append(i(r[0]),r.length>1?i(r[1]):"")}})}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t));var r,i=document;if(n&&(void 0===e.location||n!==e.location.href)){i=document.implementation.createHTMLDocument(""),r=i.createElement("base"),r.href=n,i.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var o=i.createElement("a");if(o.href=t,r&&(i.body.appendChild(o),o.href=o.href),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var a=new e.URLSearchParams(this.search),s=!0,l=!0,u=this;["append","delete","set"].forEach(function(e){var t=a[e];a[e]=function(){t.apply(a,arguments),s&&(l=!1,u.search=a.toString(),l=!0)}}),Object.defineProperty(this,"searchParams",{value:a,enumerable:!0});var c=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==c&&(c=this.search,l&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})},r=n.prototype,i=function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})};["hash","host","hostname","port","protocol"].forEach(function(e){i(e)}),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval(function(){e.location.origin=t()},100)}}}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(t,n(7))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),u=n(19),c=r(u),d=n(20),f=r(d),g=(n(0),function(){function e(t,n){if(i(this,e),!t||"object"!==(void 0===t?"undefined":o(t)))throw new TypeError("Window must be an object. The window object to be precise.");this.window=t,this.config=n,this.sources={},this.sources.embeddedTags=new c.default(t,n.sources.embeddedTags),this.sources.proximic=new f.default(t,n.sources.proximic,n.startTime),this.sourceTargeting=["embeddedTags","proximic"]}return a(e,[{key:"init",value:function(){var e=this;return this.config.adsEnabled?(this.initPromise=this.initPromise||new Promise(function(t,n){var r=Object.keys(e.sources);Promise.all(r.map(function(t){return e.sources[t].init()})).then(function(){t(e.sources)},function(e){n(e)})}),this.initPromise):new Promise(function(e){e()})}},{key:"updateEmbeddedTags",value:function(e){var t=void 0!==e.sources&&"undefined"!==e.sources.embeddedTags?e.sources.embeddedTags:{};this.sources.embeddedTags=new c.default(window,t),this.sources.embeddedTags.init()}},{key:"getDataSources",value:function(){for(var e=this.sourceTargeting,t={},n=0;n<e.length;n++){var r=e[n],i=this.sources[r].getDataSources();i&&(t=(0,l.default)({},t,i))}return t||null}}]),e}());t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(8),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(3),d=n(0),f=function(e){function t(e,n){r(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.embedConfig=n||{},o}return o(t,e),a(t,[{key:"init",value:function(){var e=this;return new Promise(function(t,n){if(!d.affiliateData.domain||"string"!=typeof((d.affiliateData.domain||{}).search||""))return n(new Error("The Window object is missing either location or location.search."));var r=e.getEntryTags(),i=e.getEntryIdTag(),o=e.getGalleryIdTag(),a=e.getProduct(),s=e.getVersion(),l=e.getPageType(),u="",f=(0,c.exists)(e,"window.adiData");u=f&&(e.window.adiData||{}).entryId&&0===(e.window.adiData||{}).entryId.indexOf("arc-")?"":f&&"game"===(e.window.adiData||{}).pageType?"lg-":f&&"hsarticle"===(e.window.adiData||{}).pageType?"hs-":f&&"live-coverage"===(e.window.adiData||{}).pageType?"lc-":f&&(e.window.adiData||{}).entryId&&/(^[0-9]+$)/gm.test(window.adiData.entryId)?"mt-":"arc-";var g=(0,c.getQueryString)();g=g.replace(/([~!#$%^*()+`{}\[\]\|;'<>,\/ ])+/g,"_");var h=(0,c.createObjectFromQuery)(g);r.length>0&&(h.tag=r),i.length>0&&(h.entryid=""+u+i),o.length>0&&(h.gal=e.getGalleryIdTag()),a.length>0&&(h.rg_product=a),s.length>0&&(h.rg_version=s),l.length>0&&(h.rg_pagetype=l),e.data=h,e.initialized=!0,t(h)})}},{key:"get",value:function(){return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"get",this).call(this),this.data}},{key:"getEntryTags",value:function(){var e=[],t="";if(void 0===this.embedConfig.logLevel&&Object.keys(this.embedConfig).length)this.embedConfig.m_entry_tags&&(e=e.concat(this.embedConfig.m_entry_tags.split(";").map(function(e){return e.replace("@","")}))),this.embedConfig.m_hssn_schoolids&&(t=this.embedConfig.m_hssn_schoolids.split(",").map(function(e){return"_"+e+"_"}),e=e.concat(t)),this.embedConfig.m_hssn_sport&&(e=e.concat(this.embedConfig.m_hssn_sport.split(";")));else{var n=(this.window.adiData||{}).entryTags||this.window.m_entry_tags||!1,r=(this.window.adiData||{}).hssnSchoolIds||this.window.m_hssn_schoolids||!1,i=(this.window.adiData||{}).hssnSport||this.window.m_hssn_sport||!1;n&&(e=e.concat(n.split(";").map(function(e){return e.replace("@","")}))),r&&(t=r.split(",").map(function(e){return"_"+e+"_"}),e=e.concat(t)),i&&(e=e.concat(i.split(";")))}return e}},{key:"getEntryIdTag",value:function(){var e=[],t=(this.window.adiData||{}).entryId||this.window.m_entry_id||!1;return this.embedConfig.m_entry_id?e.push(this.embedConfig.m_entry_id):t&&e.push(t),e}},{key:"getGalleryIdTag",value:function(){var e=[],t=(this.window.adiData||{}).galleryId||this.window.m_gallery_id||!1;return this.embedConfig.m_gallery_id?e.push(this.embedConfig.m_gallery_id):t&&e.push(t),e}},{key:"getProduct",value:function(){var e=[],t=(this.window.adiData||{}).rgProduct||this.window.rg_product||"undefined";return this.embedConfig.rg_product?e.push(this.embedConfig.rg_product):t&&e.push(t),e}},{key:"getVersion",value:function(){var e=[],t=(this.window.adiData||{}).rgVersion||this.window.rg_version||!1;return this.embedConfig.rg_version?e.push(this.embedConfig.rg_version):t&&e.push(t),e}},{key:"getPageType",value:function(){var e=[],t=(this.window.adiData||{}).pageType||this.window.m_page_type||"undefined";return this.embedConfig.rg_pagetype?e.push(this.embedConfig.rg_pagetype):t&&e.push(t),e}}]),t}(u.default);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(6),u=r(l),c=n(8),d=r(c),f=n(1),g=(window||{}).adiData,h=!!g,p=["CAL","cal","multimedia","gallery","hsarticle"],v=function(e){function t(e,n,r){i(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._setSources=!1,a._previous="",a.logger=f.Logger.getLogger({window:e,context:"Proximic Data Source",logLevel:n.logLevel,startTime:r}),a.logger.debug("class constructed"),u.default.on("proximic:loaded",function(t){a.logger.debug('"proximic:loaded" event called with values:',t),a.setValues(t),e.AdManager.updateEmbeddedTags()}),a}return a(t,e),s(t,[{key:"init",value:function(){var e=this;return this.logger.debug("init called"),new Promise(function(t,n){if(!h||!g.pageType||-1===p.indexOf(g.pageType))return e.logger.debug("adiData.pageType not supported or is undefined. rg_px not set."),e._setSources=!1,e.data={},t(e.data);var r=0,i=setInterval(function(){return r>=500?(e.logger.debug('timed out at "'+r+'". Set rg_px=timeout.'),e.data.rg_px="timeout",clearInterval(i),t(e.data)):window.pxSegmentsIDs&&window.pxSegmentsIDs!==e._previous?(e.logger.debug("New values detected. Set rg_px="+window.pxSegmentsIDs+"."),clearInterval(i),e.initialized=!0,r=0,e._previous=e.setValues(),t(e._previous)):(r+=10,void e.logger.debug('Timer recalled at "'+r+'ms".'))},10)})}},{key:"setValues",value:function(e){return e=e||window.pxSegmentsIDs||!1,e&&(this._setSources=!0,this.data.rg_px=e.split(","),this.logger.debug("Set new values to:",this.data.rg_px)),this.data}},{key:"getDataSources",value:function(){return this._setSources?this.data:{}}}]),t}(d.default);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=r(s),u=n(2),c=r(u),d=n(0),f=n(3),g=n(1),h=n(9),p=(r(h),n(22)),v=r(p),b=n(6),m=r(b),y=n(23),_=(r(y),function(){function e(t){i(this,e),t=t||{},this.queryStringConfig=(0,f.createObjectFromQuery)(""+d.affiliateData.domain.search.slice(1)),this.autoload=void 0!==t.autoload&&t.autoload,this.platform=void 0!==t.platform?t.platform:(0,f.getPlatform)(),this.pageType=(0,f.getPagetype)(),this.autoloadConfig=t.autoloadConfig||{},this.autoloadConfig[this.platform]?this.dfpSlotMap=(0,c.default)({},d.dfpSlotMap,this.autoloadConfig)[this.platform]:this.dfpSlotMap=d.dfpSlotMap[this.platform],this.adsEnabled=void 0===t.adsEnabled||t.adsEnabled,this.context=t.context||"",this.adUnits={},this.adUnitsLoaded={},this.slotCounter={},this.tagSelector=t.tagSelector||"adunit",this.network=t.network||d.dfpMap.networkID||"some tbd default",this.modalSlotCounter={},this.galleryEmbedSlots={},this.gallery=new v.default(this,t),this.log=g.Logger.getLogger({window:window,context:"GPT",logLevel:t.logLevel||config.logLevel,startTime:t.startTime}),this.injectQueue=[],this.refreshQueue=[],this.domain=""}return a(e,[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.log.debug("INITIALIZING THE GPT CLASS"),this.initialLoad=!0,this.ready=!1,this.omitSelector="mobile"===this.platform?"nofullad":"nomobilead",this.context=this.context||this.Context,this.adUnitPath=this.getAdUnitPath(),this.pageLevelData=e||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],this.pubService=null,this.analytics=n,this.adxAdvertiserId=1484826535,this.modalActive=!1;var r=function e(n,r){window.googletag&&window.googletag.apiReady&&window.googletag.pubadsReady?t.queue([t.addEventListeners,t.loadInitialAds,t.loadInjectQueue,t.loadRefreshQueue]):setTimeout(e.bind(t,n,r),10)},i=new Promise(this.initPubAds.bind(this)),o=new Promise(r.bind(this));i.then(function(){t.adsEnabled&&(t.queue([t.setPageLevelTargeting,t.setServices,t.callReady]),"function"==typeof callback&&t.queue([callback]))}).then(o)}},{key:"callReady",value:function(){m.default.emit("gpt:ready")}},{key:"initPubAds",value:function(e,t){if(!window.googletag||!window.googletag.apiReady)return this.log.debug("initPubAds was called before the gpt api was ready. Recalling initPubAds"),void setTimeout(this.initPubAds.bind(this,e,t),10);this.log.debug("GoogleTag api ready!"),e()}},{key:"loadInjectQueue",value:function(){var e=this.injectQueue.map(function(e){return e});this.setSlots(e)}},{key:"loadRefreshQueue",value:function(){var e=this.refreshQueue.map(function(e){return e});this.refreshAds(e)}},{key:"queue",value:function(e){if(Array.isArray(e)){var t=0,n=e.length;for(t;t<n;t++)this.log.debug(e[t].name+" added to command array"),window.googletag.cmd.push(e[t].bind(this))}else;}},{key:"getAdUnitPath",value:function(){var e=void 0!==window.adiData,t=e&&void 0!==window.adiData.siteSection,n=this.context||this.Context;n=f.sanitizeContext.sanitizeAll(n),n.lastIndexOf("/")===n.length-1&&(n=n.slice(0,-1)),n=n.replace(/https?:\/\//,"");var r=n.split("/"),i=(0,f.getDomainParts)(r[0]);if(this.domain=i.domain+"."+i.type,!Object.prototype.hasOwnProperty.call(d.dfpMap,this.domain))return void this.log.warn("The locale was not found: "+this.domain);if(!Object.prototype.hasOwnProperty.call(d.dfpMap[this.domain],"abbrev"))return void this.log.warn("The abbreviation for "+this.domain+" was not found");if(!d.dfpMap[this.domain].enabled)return void this.log.warn(this.domain+" is not enabled for dfp passback tags");var o=r.length>4?4:r.length,a="",s=0;for(s=0;s<o;s++)a+=r[s]+"/";a=a.slice(0,-1);var l=e&&t?window.adiData.siteSection.toLowerCase():"News";if(a.indexOf("/expo")>0&&(a=a.substring(0,a.indexOf("expo/"))+"section/"+(l?l.replace(/\-/g,"_"):"")),-1!==a.indexOf("expo.")||-1!==a.indexOf("expo-")){a=a.split("/")[0]+"/section/"+(l?l.replace(/\-/g,"_"):"")}a.indexOf("/galleries")>0&&(a=a.substring(0,a.indexOf("galleries/"))+"section/"+l);var u=void 0!==window.AdManager&&window.AdManager.affiliate?window.AdManager.affiliate:d.dfpMap[this.domain].abbrev;return d.dfpMap.networkID+"/"+u+"/"+a.replace(/\s/g,"_").replace(/%20/g,"_").replace(/\+/g,"_").replace(/\@/,"")}},{key:"setContext",value:function(e){this.context=e,this.adUnitPath=this.getAdUnitPath()}},{key:"setPageLevelData",value:function(e){this.pageLevelData=e||{},this.setPageLevelTargeting(e)}},{key:"setServices",value:function(e){var t=window.googletag;this.pubService=t.pubads(),e?e.addService(this.pubService):(this.pubService.disableInitialLoad(),this.pubService.enableSingleRequest(),this.pubService.collapseEmptyDivs(),t.setAdIframeTitle("Advertisement"),t.enableServices())}},{key:"setPageLevelTargeting",value:function(e){var t=window.googletag;this.pubService=t.pubads(),d.dfpMap[this.domain]&&d.dfpMap[this.domain].useSafeFrames&&(this.log.debug("enabling sandboxing"),this.pubService.setSafeFrameConfig({sandbox:!0})),e&&(this.pageLevelData=(0,l.default)({},e));var n=(0,f.getReferrerHostname)(document.referrer);if("object"===o(this.pageLevelData)){this.pageLevelData.rg_platform=window.rg_platform||this.platform,n&&(this.pageLevelData.rg_referrer=n);for(var r=Object.keys(this.pageLevelData),i=0;i<r.length;i++)this.pageLevelData[r[i]]&&this.pageLevelData[r[i]].length?(this.pubService.setTargeting(r[i],this.pageLevelData[r[i]]),this.log.debug("Page level targeting set for "+r[i]+" to "+this.pageLevelData[r[i]])):this.log.debug("Page level targeting was NOT set for "+r[i]+" because it is empty")}this.ready=!0}},{key:"addEventListeners",value:function(){if(!window.googletag.pubadsReady)return this.log.debug("add event listeners was called before pubads was ready. Recalling setslots"),void setTimeout(this.addEventListeners.bind(this),10);this.pubService.addEventListener("slotRenderEnded",this.slotRenderEnded.bind(this)),this.pubService.addEventListener("slotOnload",this.slotOnLoad.bind(this))}},{key:"deactivateModalSlots",value:function(){var e=Object.keys(this.galleryEmbedSlots),t=(window.googletag,0);for(t;t<e.length;t++)delete this.galleryEmbedSlots[e[t]],this.adUnits[e[t]].slot.active=!1;this.setContext("")}},{key:"slotOnLoad",value:function(e){var t=e.slot;this.log.debug(t.divId+" has fired its iframe load event")}},{key:"slotRenderEnded",value:function(e){var t=e.slot,n=t.getResponseInformation()||{},r=document.getElementById(t.divId),i="";if(n.advertiserId&&n.advertiserId!==this.adxAdvertiserId?i="Direct":(i="AdX",n.lineItemId=n.lineItemId||"AdX",n.creativeId=n.creativeId||"AdX"),e.size){var o=(0,l.default)({},{container:r},t,n,{fillType:i});this.storeLocalStorageData(o),this.log.debug("Slot "+t.slotName+" has been loaded")}m.default.emit("slot:rendered",e)}},{key:"storeLocalStorageData",value:function(e){var t={},n=null,r={};if(void 0!==window.localStorage&&(n=JSON.parse(window.localStorage.getItem("revgen/store"))||{}),!Object.keys(e).length)return null;t={advertiserId:e.advertiserId,creativeId:e.creativeId,campaignId:e.campaignId,counter:e.slotMap.slotTargeting.rg_counter,divId:e.divId,fillType:e.fillType,lineItemId:e.lineItemId,slotName:e.slotName,timestamp:(new Date).toISOString()},n&&void 0!==n[t.slotName]?r[t.slotName]=[].concat(t,n[t.slotName]):r[t.slotName]=[].concat(t);var i=(0,l.default)({},n,r);return void 0!==window.localStorage&&window.localStorage.setItem("revgen/store",JSON.stringify(i)),this.adUnitsLoaded=(0,c.default)(this.adUnitsLoaded,i),!0}},{key:"loadInitialAds",value:function(){if(!window.googletag.pubadsReady)return this.log.debug("setslots was called before pubads was ready. Recalling setslots"),void setTimeout(this.loadInitialAds.bind(this),10);this.autoload&&(this.log.debug("Starting autoload"),this.setSlots(this.TagElements))}},{key:"setSlots",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.adsEnabled&&e.length){if(!this.ready)return this.log.debug("setslots was called before pubads was ready. Recalling setslots"),void setTimeout(this.setSlots.bind(this,e),10);if(void 0!==e&&e.length){var n=0,r=void 0,i=[],o=e.length,a=window.googletag;for(n;n<o;n++){var s=e[n],l=s.slotName,u=s.slotTargeting||{};if(s.divId)if(!this.adUnits[s.divId]||this.adUnits[s.divId].slot.active){if(!this.adUnits[s.divId]||!this.adUnits[s.divId].slot.active)if(s.sizes){if(r=s.oop?a.defineOutOfPageSlot(this.adUnitPath,s.divId):a.defineSlot(this.adUnitPath,s.sizes,s.divId)){r.addService(this.pubService),r.pageType=window.m_gallery_pagetype||"",this.log.debug("PubAd Services added to slot for "+l+" with div id "+s.divId),r.divId=s.divId,r.slotName=s.slotName,r.slotMap=s,r.active=!0;var c=this.modalActive?this.slotCounter:this.modalSlotCounter;u.rg_counter=c[r.slotName]?++c[r.slotName]:1,c[r.slotName]=u.rg_counter,this.adUnits[s.divId]={slot:r},r=this.setSlotLevelTargeting(r,u),i.push(r),"embed"===r.pageType&&r.divId.indexOf("gallery")>-1&&(this.log.debug("[ sleeper ] using galleryEmbedSlots for #"+r.divId+" (name: "+r.slotName+")"),this.galleryEmbedSlots[s.divId]={slot:r})}}else this.log.debug("Requesting and ad for div "+s.divId+" and slot "+l+" without setting sizes.  Possible mismatch between desktop and mobile slot")}else this.refreshAds([s]);else this.log.debug("No divId passed in for adslot "+l)}i.length&&(window.apstag?this.fetchBids(i).then(function(e){t.log.debug("AMAZON FETCH BIDS STARTED"),t.renderAds(i)}):this.renderAds(i))}}}},{key:"getBidConfig",value:function(e){for(var t={slots:[],timeout:1e3},n=0;n<e.length;n++){var r=e[n].divId,i=e[n].slotMap,o=i.slotTargeting.rg_atf?"ATF":"BTF",a="Advance_"+d.dfpMap[this.domain].abbrev+"_"+o+"_"+this.platform.toUpperCase(),s=i.sizes,l=Array.isArray(s[0])?s:[s];l=this.getBiddableSizes(l,o.toLowerCase(),this.platform),l.length&&t.slots.push({slotID:r,slotName:a,sizes:l})}return t}},{key:"getBiddableSizes",value:function(e,t,n){var r=d.biddableSizes;void 0!==d.dfpMap[this.domain]&&void 0!==d.dfpMap[this.domain].biddableSizes&&(r=d.dfpMap[this.domain].biddableSizes);for(var i=[],o=0;o<r.length;o++)for(var a=0;a<e.length;a++)Array.isArray(r[o])&&Array.isArray(e[a])?r[o][0]===e[a][0]&&r[o][1]===e[a][1]&&i.push(e[a]):r[o]===e[a]&&i.push(e[a]);return i}},{key:"renderAds",value:function(e){if(this.log.debug("AMAZON FETCH BIDS ENDED"),this.adsEnabled){if(!e.length)return this.log.debug("No slots were passed in"),!1;if(window.apstag&&window.apstag.setDisplayBids(),e.length){var t=window.AdManager.getPageViewId();t&&(this.pageLevelData.rg_pvid=t,this.setPageLevelTargeting(this.pageLevelData)),this.log.debug("RENDER ADS FIRED"),this.pubService.refresh(e,{changeCorrelator:!1})}}}},{key:"setSlotLevelTargeting",value:function(e,t){this.setTargetingByAttribute(e);for(var n=Object.keys(t),r=0;r<n.length;r++)e.setTargeting(n[r],String(e.slotMap.slotTargeting[n[r]]));var i=!!t.rg_iab&&this.pageLevelData.rg_product+"|"+this.pageLevelData.rg_platform+"|"+e.slotName;e.setTargeting("rg_pr-pl-as",i);var o=!!t.rg_iab&&this.pageLevelData.rg_product+"|"+this.pageLevelData.rg_platform;e.setTargeting("rg_pr-pl",o);var a=t.rg_atf?"ATF":"BTF",s=!!t.rg_iab&&"Advance_"+d.dfpMap[this.domain].abbrev+"_"+a+"_"+this.pageLevelData.rg_platform.toUpperCase();e.setTargeting("rg_a9",s);var l=t.rg_iab?""+this.pageLevelData.rg_pagetype:"iabfalse";e.setTargeting("rg_pagetype",l);var u=t.rg_iab?""+this.pageLevelData.rg_product:"iabfalse";return e.setTargeting("rg_product",u),this.log.debug("Slot level targeting was set for "+e.slotName+" with div id "+e.divId),e}},{key:"setTargetingByAttribute",value:function(e){var t=document.getElementById(e.divId);if(t){var n=[].filter.call(t.attributes,function(e){return/^data-rev-/.test(e.name)}),r=n.length;if(r)for(var i=0;i<r;i++)e.setTargeting(n[i].name,n[i].value)}}},{key:"refreshAds",value:function(e){var t=this;if(this.adsEnabled){if(!e)return this.pubService.refresh(),!0;var n=0,r=e.length,i=[],o=[];for(this.adUnits=this.AdUnits,n;n<r;n++)if(void 0!==this.adUnits[e[n].divId]){var a=e[n].divId,s=this.adUnits[a],l=this.modalActive?this.slotCounter:this.modalSlotCounter,u=s.slot;o.push(u.slotName),u.slotMap.slotTargeting.rg_counter=l[u.slotName]?++l[u.slotName]:1,u=this.setSlotLevelTargeting(u,u.slotMap.slotTargeting),this.log.debug("Refreshing slot "+u.adSlot+" for div id: "+a),i.push(u)}if(i.length){if(window.apstag)return this.fetchBids(i).then(function(){window.apstag.setDisplayBids(),t.pubService.refresh(i)});this.pubService.refresh(i)}}}},{key:"fetchBids",value:function(e){var t=this,n=this.getBidConfig(e);return new Promise(function(r,i){if(window.apstag&&n.slots.length)return window.apstag.fetchBids(n,function(n){t.setA9Targeting(n,e),r(n,e)});r(null,e)})}},{key:"setA9Targeting",value:function(e,t){for(var n={},r=0,i=e.length;r<i;r++)e[r].slotID&&e[r].amznp&&(n[e[r].slotID]=e[r].amznp);for(var o=0;o<t.length;o++){var a=t[o].slotMap.divId;if(n[a]){var s=t[o].slotMap.slotTargeting.rg_atf?"ATF":"BTF",l=!!t[o].slotMap.slotTargeting.rg_iab&&"Advance_"+d.dfpMap[this.domain].abbrev+"_"+s+"_"+this.platform.toUpperCase()+"_"+n[a];t[o].setTargeting("rg_a9b",l)}}}},{key:"Context",get:function(){var e="";window.OAS_sitepage&&(e=window.OAS_sitepage),void 0!==window.AdManager&&window.AdManager.CONTEXT&&(e=window.AdManager.CONTEXT),e||(e=d.affiliateData.domain.hostname+d.affiliateData.domain.pathname);for(var t=0;t<d.domainWhiteList.length;t++)if(e.indexOf(d.domainWhiteList[t])>=0){e=d.domainWhiteList[t];break}e.indexOf("search.")>-1&&(e=e.split("/")[0]);var n="index.ssf/",r=e.indexOf(n);if(r>-1){e=""+e.substr(0,r)+e.substr(r+n.length)}else e.lastIndexOf("/")===e.length-1&&(e=""+e+n.substr(0,n.length-1));return e}},{key:"AdUnits",get:function(){return this.adUnits}},{key:"AdDivs",get:function(){return this.adDivs}},{key:"TagElements",get:function(){var e=[],t=[],n=[].concat(Object.keys(d.oasDivToSlot),Object.keys(d.oasDivToSlot).map(function(e){return d.oasDivToSlot[e]}));if(Object.keys(this.autoloadConfig).length)t=Object.keys(this.autoloadConfig);else{e=document.getElementsByClassName(this.tagSelector);for(var r=0;r<e.length;r++){var i=e[r],o=i.className;(-1!==o.indexOf(this.omitSelector)||-1===o.indexOf("nofullad")&&-1===o.indexOf("nomobilead"))&&-1!==n.indexOf(i.id)&&t.push(i.id)}}this.log.debug("Found the following ad divs on autoload "+t);var a=0,s=t.length,l=[],u=this.platform;for(a;a<s;a++){var c=t[a];l.push((0,f.updateSlotMap)({position:c},"autoload",u))}return l}}]),e}());t.default=_},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(3),s=n(1),l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),this.log=s.Logger.getLogger({window:window,context:"Gallery",logLevel:i.logLevel||o.config.logLevel,startTime:i.startTime}),this.gpt=n,(0,a.waitFor)(function(){return document.body},function(){t.mutations=t.observeMutations()})}return i(e,[{key:"observeMutations",value:function(){var e=new MutationObserver(this.onModalStateChange.bind(this));return e.observe(document.body,{attributes:!0}),e}},{key:"onModalStateChange",value:function(e){var t=e.find(function(e){return e.target===document.body&&"class"===e.attributeName});if(this.log.debug("entry: "+JSON.stringify(t)),!t)return!1;t.target.classList.contains("modal_open")?(this.log.debug("setting modal to active"),this.gpt.modalActive=!0):(this.log.debug("deactivating modal slots"),this.gpt.deactivateModalSlots(),this.gpt.modalActive=!1,this.gpt.modalSlotCounter={},this.log.debug("%cthis.gpt.modalActive: "+this.gpt.modalActive,"color: red"),this.log.debug("%cthis.gpt.modalSlotCounter: "+JSON.stringify(this.gpt.modalSlotCounter),"color: red"))}}]),e}();t.default=l},function(e,t,n){var r,i,o;!function(n,a){i=[t],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._queue=[],this.adiTrackLoaded=!1,this.loadTimeout=t.loadTimeout||3e3,this.loadTimeoutElapsed=t.loadTimeoutElapsed||0,this.loadTimeoutElapsedIncrement=t.loadTimeoutElapsedIncrement||10,this.checkLoaded()}return r(e,[{key:"checkLoaded",value:function(){var e=this,t=setTimeout(function(){if(e.loadTimeoutElapsed===e.loadTimeout)return e.page=o,e.event=o,clearInterval(t),console.log("ADITrack could not be loaded.");var n=document.getElementById("adiTrackTag");return n&&void 0!==n&&"true"===n.dataset.loaded?(e.adiTrackLoaded=!0,e.processQueue()):(e.loadTimeoutElapsed=e.loadTimeoutElapsed+e.loadTimeoutElapsedIncrement,e.checkLoaded())},this.loadTimeoutElapsedIncrement)}},{key:"event",value:function(e,t){return this.adiTrackLoaded?window._adiTrack.event(e,t):this._queue.push({type:"event",args:[e,t]})}},{key:"page",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return this.adiTrackLoaded?window._adiTrack.page(e):this._queue.push({type:"page",args:[e]})}},{key:"processQueue",value:function(){s(this._queue)&&Array.isArray(this._queue)&&this._queue.forEach(function(e,n){if(window._adiTrack[e.type]&&a(window._adiTrack[e.type])){var r;(r=window._adiTrack)[e.type].apply(r,t(e.args))}})}}]),e}(),o=function(){},a=function(e){return e&&"function"==typeof e},s=function(e){return e&&void 0!==e},l=null;l=s(window.adiTrack)?window.adiTrack:window.adiTrack=new i,e.default=l})},function(e,t,n){/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
!function(t,n){e.exports=n()}(0,function(){var e,t=[],n=document,r=n.documentElement.doScroll,i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),i=1;e=t.shift();)e()}),function(e){i?setTimeout(e,0):t.push(e)}})}]);