(window._vfP=window._vfP||[]).push([[94,95],{333:function(n,t,e){"use strict";e.r(t);var r,i=e(1),u=e(19),c=e.n(u),o=e(39);function a(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var f=(a(r={},i.vb,function(n,t){(n[t]||[]).pop()}),a(r,i.a,Object(o.a)(c.a,function(n,t){return!t.some(function(t){return t.thread_uuid===n.thread_uuid})})),a(r,i.G,o.b),r),s=e(0);var d,b,l,_=(d={},b=s.a,l=function(n){return function(t){var e=n[t]||[];return e[e.length-1]||{}}},b in d?Object.defineProperty(d,b,{value:l,enumerable:!0,configurable:!0,writable:!0}):d[b]=l,d);var p=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}({},e(3).a,function(n,t){var e=t.thread_uuid,r=t.offset_top,u=n.getters[s.M](e),c=n.getters[s.P](e);r=n.getters[s.a](c).offset_top||r;var o={key:c,items:[{parent_thread_uuid:u.thread_uuid,content_container_uuid:c,thread_uuid:e,offset_top:r}]};n.commit(i.a,o)});e.d(t,"replyThreads",function(){return m});var v=function(){return{}},m=function(){return{state:v,mutations:f,getters:_,actions:p}}},383:function(n,t,e){"use strict";e.r(t);e(5),e(7),e(79),e(35),e(40);var r,i=e(1),u=e(49),c=e(44),o=e(519),a=e(209),f=e(19),s=e.n(f);function d(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var b,l=(d(r={},i.cc,Object(c.f)(s.a,a.c)),d(r,i.vc,function(n,t){delete t.item.actions,Object(c.f)(s.a,a.c)(n,t)}),d(r,i.Db,Object(c.c)(s.a)),d(r,i.eb,function(n,t){n[t].isNew=!1}),d(r,i.db,function(n,t){n[t].isNew=!0}),d(r,i.gb,function(n,t){n[t].read=!1}),d(r,i.fb,function(n,t){n[t].read=!0}),d(r,i.gc,function(n,t){var e=t.content_uuid,r=t.place;n[e].place=r}),d(r,i.dc,function(n,t){var e=t.content_uuid,r=t.animation;n[e].animation=Object.values(a.a).includes(r)?r:a.a.NONE}),d(r,i.ab,function(n,t){n[t].is_picked=!0}),d(r,i.bb,function(n,t){n[t].is_picked=!1}),d(r,i.Mc,function(n,t){n[t].state=u.c.SPAM}),d(r,i.cb,function(n,t){n[t].state=u.c.VISIBLE,n[t].simplified_state=u.c.VISIBLE,n[t].state_reasons=n[t].state_reasons.filter(function(n){return n!==u.d.CONTENT_DISABLED})}),d(r,i.Z,function(n,t){n[t].simplified_state=u.c.DISABLED,n[t].state_reasons.push(u.d.CONTENT_DISABLED)}),d(r,i.ub,function(n,t){n[t].is_pinned=!0,n[t].date_pinned=Date.now()}),d(r,i.Sc,function(n,t){n[t].is_pinned=!1,n[t].date_pinned=void 0}),d(r,i.fc,function(n,t){var e=t.content_uuid,r=t.simplified_state;n[e].simplified_state=r,n[e].state_reasons.push(u.d.CONTENT_DELETED)}),d(r,i.Wb,function(n){Object.values(n).forEach(function(n){n.actions=[]})}),d(r,i.kb,Object(o.b)("total_likes")),d(r,i.W,Object(o.a)("total_likes")),d(r,i.ib,Object(o.b)("total_dislikes")),d(r,i.V,Object(o.a)("total_dislikes")),d(r,i.i,function(n,t){n[t].actions=n[t].actions.concat("flag")}),d(r,i.K,function(n,t){n[t].total_flags=0,n[t].actions=n[t].actions.filter(function(n){return"flag"!==n})}),d(r,i.l,function(n,t){n[t].actions=n[t].actions.concat("like")}),d(r,i.j,function(n,t){n[t].actions=n[t].actions.concat("flag"),n[t].total_flags+=1}),d(r,i.jb,Object(o.b)("total_flags")),d(r,i.g,function(n,t){n[t].actions=n[t].actions.concat("dislike")}),d(r,i.Nb,function(n,t){n[t].actions=n[t].actions.filter(function(n){return"like"!==n})}),d(r,i.Eb,function(n,t){n[t].actions=n[t].actions.filter(function(n){return"dislike"!==n})}),d(r,i.p,function(n,t){var e=t.parent_uuid,r=t.child_uuid;n[e].reply_uuids.push(r),n[r].parent_uuid=e}),d(r,i.Sb,function(n,t){var e=t.parent_uuid,r=t.child_uuid;n[e].reply_uuids=n[e].reply_uuids.filter(function(n){return n!==r}),n[r].parent_uuid=""}),d(r,i.lb,function(n,t){n[t].total_replies+=1,n[t].total_direct_replies+=1}),r),_=(e(148),e(0)),p=e(11);function v(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var m,E=[{checkGetter:_.Eb,visibilityGetter:_.Lb},{checkGetter:_.Db,visibilityGetter:_.Jb},{checkGetter:_.Cb,visibilityGetter:_.zb}],y=function(n,t){return Boolean(n)&&Object(p.G)(t)},h=(v(b={},_.M,function(n){return function(t){return n[t]}}),v(b,_.L,function(n,t){return function(e){return Object.values(n).filter(function(n){return n.thread_uuid===e}).filter(function(n){var e=n.content_uuid;return t[_.Fb](e)})}}),v(b,_.K,function(n,t){return function(e){return Object.values(n).filter(function(n){return n.parent_uuid===e}).filter(function(n){var e=n.content_uuid;return t[_.Fb](e)})}}),v(b,_.Y,function(n,t){return function(e){return n[e].reply_uuids.filter(t[_.Fb]).map(t[_.M]).filter(function(n){return!n.is_actor_ghostbanned}).sort(function(n,t){return n.time-t.time})}}),v(b,_.r,function(n,t){return function(e){var r=n[e],i=t[_.Xc](r),u=t[_.cb];return Boolean(r)&&function(n){return!n.social_id&&Boolean(n.content)}(r)&&i&&i.uuid===u}}),v(b,_.q,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&r.simplified_state!==u.c.VISIBLE}}),v(b,_.n,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&!r.state_reasons.includes(u.d.CONTENT_DISABLED)}}),v(b,_.s,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&!r.is_pinned&&r.parent_uuid===r.content_container_uuid}}),v(b,_.v,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&r.is_pinned&&r.parent_uuid===r.content_container_uuid}}),v(b,_.l,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&r.total_flags>0}}),v(b,_.o,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&!r.is_picked}}),v(b,_.p,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&r.is_picked}}),v(b,_.u,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&r.state!==u.c.SPAM}}),v(b,_.w,function(n,t){return function(e){var r=n[e];return y(r,t[_.bb])&&r.state===u.c.SPAM}}),v(b,_.t,function(n,t){return function(e){var r=n[e];return t[_.r](e)&&!r.state_reasons.includes(u.d.CONTENT_DELETED)}}),v(b,_.V,function(n){return function(t){return n[t].actions.some(function(n){return"like"===n})}}),v(b,_.T,function(n){return function(t){return n[t].actions.some(function(n){return"dislike"===n})}}),v(b,_.U,function(n){return function(t){return n[t].actions.some(function(n){return"flag"===n})}}),v(b,_.S,function(n){return function(t,e){return n[t].actor_uuid===e}}),v(b,_.R,function(n,t){return function(n){return t[_.S](n,t[_.cb])}}),v(b,_.W,function(n){return function(t){return n[t].is_pinned}}),v(b,_.X,function(n){return function(t){return!n[t].is_pinned}}),v(b,_.Fb,function(n,t){return function(e){var r=n[e];return!!r&&(!!Object(p.G)(t[_.bb])||t[_.B](r))}}),v(b,_.B,function(n,t){return function(n){return E.filter(function(e){var r=e.checkGetter;return t[r]&&t[r](n.content_container_uuid)}).map(function(e){var r=e.visibilityGetter;return t[r](n)})[0]}}),v(b,_.Bb,function(n){return function(t){return n[t].isNew}}),v(b,_.Q,function(n){return function(t,e){return n[t].reply_uuids.includes(e)}}),v(b,_.P,function(n){return function(t){return n[t].content_container_uuid}}),b),D=(e(75),e(80),e(26),e(27),e(17),e(28),e(197),e(9),e(3)),O=e(6),g=e(118);function k(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var j,P=(k(m={},O.k,function(n,t){var e=n.state,r=n.getters,i=n.dispatch;return e[t.content_uuid]?r[_.Gb](t.actor_uuid)?i(D.Xb,t):i(D.ac,t):Promise.resolve()}),k(m,D.Xb,function(n,t){var e=n.commit,r=t.action,u=t.content_uuid,c=t.payload;switch(r){case g.a.FLAGGED:case g.a.FLAGS_CLEARED:case g.a.PICKED:case g.a.UNPICKED:case g.a.PINNED:case g.a.UNPINNED:case g.a.SPAM:case g.a.DISABLED:e(i.vc,{key:u,item:c})}}),k(m,D.ac,function(n,t){var e=n.getters,r=n.commit,u=n.dispatch,c=t.action,o=t.content_uuid,a=t.payload;switch(c){case g.a.LIKED:r(i.kb,o);break;case g.a.UNLIKED:r(i.W,o);break;case g.a.DISLIKED:r(i.ib,o);break;case g.a.UNDISLIKED:r(i.V,o);break;case g.a.FLAGGED:case g.a.PICKED:case g.a.UNPICKED:case g.a.SPAM:case g.a.PINNED:case g.a.UNPINNED:case g.a.DELETED:r(i.vc,{key:o,item:a});break;case g.a.VISIBLE:case g.a.DISABLED:N(e,r,u,a,o);break;case g.a.FLAGS_CLEARED:r(i.vc,{key:o,item:a}),r(i.K,o)}}),m),N=function(n,t,e,r,u){var c,o=n[_.M](u);o&&(!o.date_edited&&r.date_edited||o.date_edited<r.date_edited)||(n[_.gd]&&(c=n[_.gd](r.thread_uuid).indexOf(u)),t(i.vc,{key:u,item:r}),n[_.gd]&&e(D.md,{thread_uuid:r.thread_uuid,content_uuid:u,current_index:c}))};function I(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function S(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.forEach(function(t){w(n,t,e[t])})}return n}function w(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var L=S({},P,(w(j={},D.xc,function(n,t){var e=n.commit,r=Object(a.d)(t),u=r.post;return r.media.forEach(function(n){e(i.pc,n)}),e(i.cc,{key:u.content_uuid,item:u}),Promise.resolve(u)}),w(j,D.wc,function(n,t){var e=n.dispatch,r=t.content_container_uuid,i=t.contents,u=i.map(function(n){var t=S({},n,{media:[],content_container_uuid:r});return e(D.xc,t).then(function(){return n.content_uuid})}),c=I(new Set(i.map(function(n){return n.actor_uuid}))).map(function(n){return e(D.wb,n)});return Promise.all(u).then(function(n){return Promise.all(c).then(function(){return n})})}),w(j,D.Zb,function(n){n(i.Wb)}),j)),A=e(333);e.d(t,"storeModule",function(){return G});var G=function(){return{mutations:l,getters:h,actions:L,state:a.e,modules:{replyThreads:Object(A.replyThreads)()}}}},519:function(n,t,e){"use strict";e.d(t,"b",function(){return r}),e.d(t,"a",function(){return i});var r=function(n){return function(t,e){t[e][n]++}},i=function(n){return function(t,e){t[e][n]--}}}}]);